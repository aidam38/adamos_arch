!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=63)}({19:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return e&&e.constructor===Object}function i(e){if(!o(e))return e;for(var t=1,n=arguments.length;t<n;t++){var u=arguments[t];if(o(u))for(var c in u)o(u[c])?(e[c]||Object.assign(e,r({},c,{})),i(e[c],u[c])):Object.assign(e,r({},c,u[c]))}return e}function u(e,t){t&&s(t,function(t,n){e.style[t]=n})}function c(e,t){t&&s(t,function(t,n){null===n?e.removeAttributeNS(null,t):e.setAttributeNS(null,t,n)})}function s(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(e,n,e[n])}function a(e,t){if("string"==typeof e)return document.querySelectorAll(e);if(e&&e.selector){var n=e.root?a(e.root):document,r=n&&n.querySelectorAll(e.selector),o=r&&(r[e.index||0]||r[0]);return e.closest&&o?o.closest(e.closest):o}return null}function l(){var e=document.createElementNS(p,"svg");e.id="oddshotSVG",e.setAttributeNS(null,"version","1.1");var t=document.createElementNS(p,"g"),n=document.createElementNS(p,"path"),r=document.createElementNS(p,"path"),o=document.createElementNS(p,"path");return n.setAttributeNS(null,"d","M12.3981236,7.05421295 C12.3981236,7.05421295 12.3133461,6.95708461 12.6335508,\n  7.25841605 C14.4153748,8.93521695 15.3242425,11.4468553 14.8249779,14.0086774 C14.0473426,\n  17.9988732 10.1480555,20.5998088 6.1156765,19.8180296 C2.08329747,19.0362504 -0.555193625,\n  15.1678003 0.222441703,11.1776045 C0.743292638,8.50501856 2.66456705,6.45567727 5.08826905,\n  5.62856945 C5.62671611,5.48469642 5.87717731,5.78065121 5.65219275,6.28709781 C5.65219275,\n  6.28709781 3.85754606,10.1977976 3.54119994,11.8210301 C3.15719085,13.7914543 4.25904044,\n  16.04995 6.75569165,16.5339893 C9.25234285,17.0180286 11.1222106,15.3356759 11.5062197,\n  13.3652517 C11.8225658,11.7420192 11.6273873,7.44554121 11.6273873,7.44554121 C11.6075496,\n  6.89011711 11.9515931,6.70529347 12.3981236,7.05421295 L12.3981236,7.05421295 Z"),r.setAttributeNS(null,"d","M7.20370225,14.2351611 C8.12015203,14.4128382 9.00635363,13.8217165 9.18308894,\n  12.9148538 C9.35982424,12.0079911 8.76016717,11.1287979 7.84371739,10.9511208 C6.92726761,\n  10.7734437 6.041066,11.3645654 5.8643307,12.2714281 C5.6875954,13.1782908 6.28725247,\n  14.057484 7.20370225,14.2351611 L7.20370225,14.2351611 Z"),o.setAttributeNS(null,"d","M8.30428681,9.0531901 C9.40402655,9.2702792 9.6757138,9.08576109 9.88779616,\n  7.97773977 C10.0998785,6.86971846 10.0107176,0.137966427 10.0107176,0.137966427 C10.0107176,\n  0.137966427 7.44487194,6.34561901 7.23278958,7.45364032 C7.02070721,8.56166164 7.20454707,\n  8.836101 8.30428681,9.0531901 L8.30428681,9.0531901 Z"),t.appendChild(n),t.appendChild(r),t.appendChild(o),e.appendChild(t),e}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(t,n){chrome.runtime.sendMessage({message:"get-host-config",videoCapture:e},function(e){t(e)})})}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(this,n),this.nodes={},this.setConfig(e,t),this.icon=this.createNode("span",e),this.icon.setAttribute("data-oddshot",""),this.attachEvents()}Object.defineProperty(t,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p="http://www.w3.org/2000/svg";f.prototype={setConfig:function(e,t){this.config=e,this.isReady=t},createNode:function(e,t){var n=t.tagName||e,r=document.createElement(n);return this.addChildNodes(r,t),r},addChildNodes:function(e,t){var n=this,r=t.nodes||{},o=t.children;o&&o.length&&o.forEach(function(t){var o=r[t];if(o){var i="svg"===t?l():n.createNode(t,o);n.nodes[t]=i,e.appendChild(i)}})},insertIcon:function(e){var t=this.icon,n=e.parent,r=e.before;if(n){if(!r||t.nextElementSibling!==r||!t.parentNode){this.removePreviousIcon(n);try{n.insertBefore(t,r)}catch(e){}}}else t.parentNode&&t.parentNode.removeChild(t)},removePreviousIcon:function(e){var t=e&&e.querySelector("[data-oddshot]");t&&t.parentNode===e&&e.removeChild(t)},attachEvents:function(){var e=this,t=this.icon;t.addEventListener("mouseenter",function(){e.focused=!0,e.refresh()}),t.addEventListener("mouseleave",function(){e.focused=!1,e.refresh()}),t.addEventListener("mousedown",function(){e.pressed=!0,e.refresh()}),t.addEventListener("mouseup",function(){e.pressed=!1,e.refresh()}),t.addEventListener("click",function(t){e.onClick(t)},!0)},findInsertPlace:function(e){if(e.parent&&e.parent.node)return{parent:e.parent.node,before:null};var t=a(e.parent);if(t){var n=h(e.insertBefore),r="number"===n?t.children[e.insertBefore]:"string"===n?t.querySelector(e.insertBefore):null;return{parent:r?r.parentNode:t,before:r}}return{}},refresh:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.config,n=this.isReady,r=n?t.active:t.inactive,o=n&&this.focused?t.focused:t.blurred,u=n&&this.pressed?t.pressed:null,c=i({},t,r,o,u);this.updateNode(this.icon,null,c),e&&this.attach()},updateNode:function(e,t,n){var r=this;if(u(e,n.style),c(e,n.attributes),e.setAttribute("class",n.className||""),n.fill&&"svg"===t){var o=e.firstElementChild;o&&o.setAttributeNS(null,"fill",n.fill)}"string"==typeof n.textContent&&(e.textContent=n.textContent),n.children&&n.children.length&&n.children.forEach(function(e){var t=r.nodes[e],o=n.nodes[e];r.updateNode(t,e,o)})},attach:function(){var e=this.findInsertPlace(this.config);this.icon.parentNode==e.parent&&this.icon.nextElementSibling==e.before||this.icon===e.before||this.insertIcon(e)},detach:function(){var e=this.icon;e&&e.parentNode&&e.parentNode.removeChild(e)},destroy:function(){this.detach(),this.nodes={}}},t.findNode=a,t.OddshotIcon=f,t.getHostConfig=d},63:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=e.getBoundingClientRect(),n=document.body.scrollTop||document.documentElement.scrollTop,r=document.body.scrollLeft||document.documentElement.scrollLeft;return{top:Math.max(0,t.top+n),left:Math.max(0,t.left+r)}}function i(e){var t=[],n=Array.apply(null,e.querySelectorAll("source[src]")),o=e.src||e.currentSrc;return o&&p.test(o)&&t.push(o),t.push.apply(t,r(n.map(function(e){return e.src}))),t.find(function(e){return p.test(e)})}function u(){return Array.apply(null,document.querySelectorAll("video")).filter(function(e){return s(e)})}function c(e){return e&&e.currentTime}function s(e){return e&&"VIDEO"===e.tagName&&!!i(e)}function a(){return{videosLength:u().length}}function l(e){chrome.runtime.sendMessage({message:"video-capture",video:{href:location.href,title:document.title,src:i(e),currentTime:c(e)}})}function d(){var e=u();return e[0]&&l(e[0])}function f(e){if(s(e))return e;var t=e&&e.parentNode&&e.parentNode.querySelector(":scope > video");return s(t)?t:null}var h=n(19),p=/^https?:\/\//;(0,h.getHostConfig)(!0).then(function(e){function t(e){l(c.video)}function n(){var e=c.video,t=c.button;if(e&&t){var n=o(e);t.style.top=n.top+5+"px",t.style.left=n.left+5+"px"}}function r(t){var r=t.target;if(c&&r===c.button)return void(c.timeout=clearTimeout(c.timeout));var o=f(r);!c.shown&&o&&(c.video=o,c.shown=!0,c.timeout=clearTimeout(c.timeout),e.legacy&&(n(),u.attach()))}function i(t){var n=(t.target,t.relatedTarget),r=f(n);c.shown&&c.video!==r&&(c.timeout=clearTimeout(c.timeout)||setTimeout(function(){c.shown=!1,e.legacy&&u.detach()},10))}if(!e)return null;e.parent=e.parent||{node:document.body};var u=new h.OddshotIcon(e,!0,{onClick:t});u.refresh(!e.legacy);var c={shown:!1,timeout:null,video:null,button:u.icon};document.body.addEventListener("mouseover",r),document.body.addEventListener("mouseout",i),window.addEventListener("scroll",n),chrome.runtime.onMessage.addListener(function(e,t,n){var r=e.message;if("get-video-capture-info"===r){var o=a();o.videosLength&&n(o)}else"capture"===r&&n(d());return!1})})}});