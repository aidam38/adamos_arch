var tab=webpackJsonp_name_([1],{"+jDD":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"about"}},[a("h1",[e._v(e._s(e.__("support")))]),e._v(" "),a("h3",[e._v(e._s(e.__("support1Title")))]),e._v(" "),a("p",{domProps:{innerHTML:e._s(e.__("support1Content",[e.supportPage]))}}),e._v(" "),a("h3",[e._v(e._s(e.__("support2Title")))]),e._v(" "),a("p",{domProps:{innerHTML:e._s(e.__("support2Content",[e.reviewPage]))}}),e._v(" "),a("h3",[e._v(e._s(e.__("support3Title")))]),e._v(" "),a("p",{domProps:{innerHTML:e._s(e.__("support3Content",["https://github.com/ALiangLiang/Counter-for-Messenger"]))}}),e._v(" "),a("h1",[e._v(e._s(e.__("QA")))]),e._v(" "),a("h3",[e._v(e._s(e.__("QA1Title")))]),e._v(" "),a("p",[e._v(e._s(e.__("QA1Content")))]),e._v(" "),a("h3",[e._v(e._s(e.__("QA2Title")))]),e._v(" "),a("p",{domProps:{innerHTML:e._s(e.__("QA2Content",["https://www.buymeacoffee.com/ALiangLiang","https://chrome.google.com/webstore/detail/flkejcheidpcclcdokndihmnlejfabil"]))}}),e._v(" "),a("h3",[e._v(e._s(e.__("QA3Title")))]),e._v(" "),a("p",[e._v(e._s(e.__("QA3Content")))]),e._v(" "),a("h1",[e._v(e._s(e.__("note")))]),e._v(" "),a("p",[e._v(e._s(e.__("noteContent")))])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"+l4b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"outer-name"},[a("avatar",{attrs:{images:e.thread.image?[{text:e.thread.threadName,src:e.thread.image}]:e.thread.participants.map(function(e){return{text:e.user.name,src:e.user.avatar}}),"allow-upload":"GROUP"===e.thread.type},on:{change:function(t){e.onChangeThreadImage(e.thread,t)}}}),e._v(" "),a("thread-name",{staticClass:"thread-name",attrs:{thread:e.thread},on:{change:function(t){("GROUP"===e.thread.type?e.onChangeThreadName:e.onChangeNickname)(e.thread,t)}}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"/1Do":function(e,t,a){var n=a("Ru6b");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("36e8897c",n,!0,{})},"/hEa":function(e,t,a){"use strict";function n(e){a("rP+3"),a("bwwf")}var r=a("SsGm"),i=a("tBdW"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,"data-v-eec9d1d4",null);t.a=c.exports},0:function(e,t){},"08kH":function(e,t,a){"use strict";var n=a("mvHQ"),r=a.n(n);t.a={get:function(e,t){try{var a=JSON.parse(localStorage.getItem(e));return a||(localStorage.setItem(e,r()(t)),t)}catch(a){return localStorage.setItem(e,r()(t)),t}},set:function(e,t){try{localStorage.setItem(e,r()(t))}catch(e){}},remove:function(e){try{localStorage.removeItem(e)}catch(e){}},clear:function(){try{localStorage.clear()}catch(e){}}}},"0GeO":function(e,t,a){"use strict";function n(e,t,a){var n=Object(d.b)(),r={client:"messenger",action_type:"ma-type:log-message",ephemeral_ttl_mode:0,"log_message_data[name]":a,log_message_type:"log:thread-name",message_id:n,offline_threading_id:n,source:"source:chat:web",thread_fbid:t.id,timestamp:Date.now()},i=Object(d.e)(r,e);return Object(d.h)("https://www.facebook.com/messaging/send/?dpr=1",i)}function r(e,t,a,n){var r={thread_or_other_fbid:t.id,participant_id:a,nickname:n},i=Object(d.e)(r,e);return Object(d.h)("https://www.facebook.com/messaging/save_thread_nickname/?source=thread_settings&dpr=1",i)}function i(e,t,a){var n={thread_or_other_fbid:t.id};a&&(n.emoji_choice=a.toLowerCase());var r=Object(d.e)(n,e);return Object(d.h)("https://www.facebook.com/messaging/save_thread_emoji/?source=thread_settings&dpr=1",r)}function s(e,t,a){var n={thread_or_other_fbid:t.id};a&&(n.color_choice=a.toLowerCase());var r=Object(d.e)(n,e);return Object(d.h)("https://www.facebook.com/messaging/save_thread_color/?source=thread_settings&dpr=1",r)}t.f=n,t.g=r,a.d(t,"e",function(){return h}),a.d(t,"h",function(){return p}),a.d(t,"b",function(){return m}),t.d=i,a.d(t,"a",function(){return f}),t.c=s;var o=a("Xxa5"),c=a.n(o),u=a("exGp"),l=a.n(u),d=a("D9dJ"),h=function(){var e=l()(c.a.mark(function e(t,a,n){var r,i,s,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.j)(t,n);case 2:return r=e.sent.payload.metadata[0],i=Object(d.b)(),console.log(r.src),s={client:"mercury",action_type:"ma-type:log-message",ephemeral_ttl_mode:0,"log_message_data[image][image_id]":r.image_id,"log_message_data[image][filename]":r.filename,"log_message_data[image][filetype]":r.filetype,"log_message_data[image][src]":r.src,"log_message_data[image][fbid]":r.fbid,log_message_type:"log:thread-image",message_id:i,offline_threading_id:i,source:"source:messenger:web",thread_fbid:a.id,timestamp:Date.now()},o=Object(d.e)(s,t),e.abrupt("return",Object(d.h)("https://www.facebook.com/messaging/send/?dpr=1",o));case 8:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),p=function(){var e=l()(c.a.mark(function e(t,a,n){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={thread_fbid:a.id,mute_settings:n},i=Object(d.e)(r,t),e.abrupt("return",Object(d.h)("https://www.facebook.com/ajax/mercury/change_mute_thread.php",i));case 3:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),m=["✌","😂","😝","😁","😱","👉","🙌","🍻","🔥","🌈","☀","🎈","🌹","💄","🎀","⚽","🎾","🏁","😡","👿","🐻","🐶","🐬","🐟","🍀","👀","🚗","🍎","💝","💙","👌","❤","😍","😉","😓","😳","💪","💩","🍸","🔑","💖","🌟","🎉","🌺","🎶","👠","🏈","⚾","🏆","👽","💀","🐵","🐮","🐩","🐎","💣","👃","👂","🍓","💘","💜","👊","💋","😘","😜","😵","🙏","👋","🚽","💃","💎","🚀","🌙","🎁","⛄","🌊","⛵","🏀","🎱","💰","👶","👸","🐰","🐷","🐍","🐫","🔫","👄","🚲","🍉","💛","💚"],f={"#0084ff":"Messenger Blue","#44bec7":"Viking","#ffc300":"Golden Poppy","#fa3c4c":"Radical Red","#d696bb":"Shocking","#6699cc":"Picton Blue","#13cf13":"Free Speech Green","#ff7e29":"Pumpkin","#e68585":"Light Coral","#7646ff":"Medium Slate Blue","#20cef5":"Deep Sky Blue","#67b868":"Fern","#d4a88c":"Cameo","#ff5ca1":"Brilliant Rose","#a695c7":"Biloba Flower"}},"0e1R":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("html",[a("head",[a("meta",{attrs:{charset:"utf-8"}}),e._v(" "),a("meta",{attrs:{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"}}),e._v(" "),a("title",[e._v(e._s(e.title))]),e._v(" "),a("link",{attrs:{rel:"stylesheet",type:"text/css",href:"download.css"}})]),e._v(" "),a("body",[a("thread",{attrs:{"messages-data":e.messagesData,participants:e.participants,"self-id":e.selfId}})],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},1:function(e,t){},"1GCg":function(e,t,a){"use strict";function n(e){a("/1Do"),a("PQho")}var r=a("MnVa"),i=a("1M2l"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,"data-v-0417bda4",null);t.a=c.exports},"1M2l":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{class:{"operation-bar":!0,"show-operation-buttons":e.selectedThreads.length},staticStyle:{padding:"20px"}},[e.selectedThreads.length?e._e():a("div",{staticStyle:{display:"inline-flex"}},[a("el-form",{staticStyle:{display:"inline-block"},attrs:{inline:!0,size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{staticClass:"operation-bar-form-item",attrs:{label:e.__("searchInputLabel")+e.__("colon")}},[a("el-input",{staticStyle:{height:"30px"},attrs:{placeholder:e.__("searchInputPlaceholder"),maxlength:120},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)],1),e._v(" "),a("operation-button",{staticClass:"operation-bar-button",attrs:{type:"danger",icon:"trash",text:e.__("reset"),size:"mini",round:""},on:{click:function(t){e.reset()}}}),e._v(" "),a("el-pagination",{staticStyle:{display:"inline-block"},attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":function(t){return e.threadsPerPage=t},"update:currentPage":function(t){e.currentPage=t}}})],1),e._v(" "),e.selectedThreads.length?a("div",[a("el-button",{staticClass:"operation-bar-button",attrs:{type:"primary",size:"small"},on:{click:function(t){e.$refs["thread-list"].clearSelection()}}},[e._v("\n        Clear\n      ")]),e._v("\n      Already select "+e._s(e.selectedThreads.length)+" threads\n      "),a("div",{staticClass:"operation-bar-float-right"},[a("operation-button",{staticClass:"operation-bar-button",attrs:{type:"primary",icon:"cloud-download",text:e.__("fetchDetailOfselected"),size:"mini",round:""},on:{click:function(t){e.fetchSelectedThreads()}}}),e._v(" "),a("operation-button",{staticClass:"operation-bar-button",attrs:{type:"primary",icon:"download",text:e.__("downloadMessageHistory"),size:"mini",round:""},on:{click:function(t){e.downloadHistory()}}})],1)],1):e._e()]),e._v(" "),a("el-table",{ref:"thread-list",staticClass:"thread-list-table",staticStyle:{width:"100%"},attrs:{data:e.slicedTableData,"max-height":720,"show-summary":"",border:"","header-cell-class-name":"thread-list-cell","cell-class-name":"thread-list-cell","summary-method":e.getSummaries},on:{"selection-change":e.onSelect,"row-click":function(t){if(t.target!==t.currentTarget)return null;e.onRowClick(t)}}},[a("el-table-column",{attrs:{type:"selection",width:"55","class-name":"select-box-cell","label-class-name":"select-box-cell"}}),e._v(" "),a("el-table-column",{attrs:{type:"expand",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("detail-template",{attrs:{thread:n},on:{change:e.onChange}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"#",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:e.__("threadName")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("name-template",{attrs:{thread:n},on:{change:e.onChange}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:e.__("threadType"),width:"90",filters:e.typeFilters,"filter-method":e.typeFilterMethod,"filter-placement":"bottom-end",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:e.determineThreadType(n.type).tagType,"close-transition":""}},[e._v("\n          "+e._s(e.determineThreadType(n.type).name)+"\n        ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"tag",label:e.__("threadTag"),width:"90",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:e.determineThreadTag(n.tag).tagType,"close-transition":""}},[e._v("\n          "+e._s(e.determineThreadTag(n.tag).name)+"\n        ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"messageCount",label:e.__("threadMessageCount"),width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"characterCount",label:e.__("threadCharacterCount"),width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:e.__("threadOperation"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,r=t.$index;return[a("operation-button",{attrs:{disabled:"GROUP"===n.type,icon:"image",text:e.__("generateSharingImage")},on:{click:function(t){e.generateImage(n,r)}}}),e._v(" "),a("operation-button",{attrs:{disabled:"GROUP"===n.type,icon:"share-alt",text:e.__("shareToFb")},on:{click:function(t){e.onShareOnFb(n,r)}}}),e._v(" "),a("operation-button",{attrs:{icon:"cloud-download",text:n.needUpdate?e.__("importMessageHistory"):e.__("importedMessageHistory"),disabled:!n.needUpdate,loading:n.isLoading},on:{click:function(t){e.fetchMessages(n)}}}),e._v(" "),a("operation-button",{attrs:{icon:"download",text:e.__("downloadMessageHistory")},on:{click:function(t){e.downloadHistory(n)}}})]}}])})],1),e._v(" "),a("sharing-dialog",{ref:"sharingDialog",attrs:{jar:e.ctx.jar}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"28Tg":function(e,t,a){"use strict";var n=a("Xmgt");t.a={name:"Html",components:{Thread:n.a},props:["title","messagesData","participants","selfId"]}},"2Nrh":function(e,t,a){"use strict";function n(e){a("eR4G"),a("u9FY")}var r=a("GvD7"),i=a("oOMR"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,"data-v-5be46778",null);t.a=c.exports},"5jj8":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-color-dropdown"},e._l(e.emojis,function(t,n){return a("span",{key:n,staticClass:"emoji",on:{click:function(a){e.choose(t)}}},[e._v(e._s(t))])}))])},r=[],i={render:n,staticRenderFns:r};t.a=i},"5oW5":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".el-table__expand-icon>.el-icon-arrow-right:before{color:#f03c24;font-size:16px}",""])},"5tLZ":function(e,t,a){"use strict";var n=a("1GCg");t.a={name:"ListPage",props:["ctx"],components:{ThreadList:n.a},data:function(){return{page:1}},methods:{}}},"5xtx":function(e,t,a){"use strict";function n(e){a("Us9Y")}var r=a("TlCw"),i=a("5jj8"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,null,null);t.a=c.exports},"7UJ1":function(e,t,a){"use strict";var n=a("7+uW"),r=a("/ocq"),i=a("NmZh"),s=a("Im9U"),o=a("p2eQ");n.default.use(r.a),t.a=new r.a({routes:[{path:"/",redirect:"/list"},{path:"/about",name:"About",component:i.a},{path:"/list",name:"ListPage",component:s.a},{path:"/chart",name:"ChartPage",component:o.a}]})},"7wdR":function(e,t,a){"use strict";function n(e,t){var a=t&&t.customization_info?t.customization_info.participant_customizations.find(function(t){return t.participant_id===e.id}):null;return{id:e.id,name:e.name,nickname:a?a.nickname:null,type:l()(e,"__typename","").toUpperCase(),url:e.url,gender:e.gender,shortName:e.short_name,username:e.username,avatar:e.big_image_src?e.big_image_src.uri:null,isViewerFriend:e.is_viewer_friend,isMessengerUser:e.is_messenger_user,isVerified:e.is_verified,isNessageBlockedByViewer:e.is_message_blocked_by_viewer,isViewerCoworker:e.is_viewer_coworker,isEmployee:e.is_employee}}function r(e){var t=e.all_participants.nodes.map(function(t){return{user:new p.a(n(t.messaging_actor,e)),messageCount:null,characterCount:null,inGroup:!0}}),a=void 0,r=void 0;if("ONE_TO_ONE"===e.thread_type){var i=e.other_user_id,s=t.find(function(e){return e.user.id!==i});a=s.user.type?s.user.type.toUpperCase():"USER",s.user.type||console.warn(s),r=s.user.nickname||s.user.name}else{if("GROUP"!==e.thread_type)return console.warn("Unknown thread type: ",e),null;a=e.thread_type,r=e.name?e.name:t.slice(0,3).map(function(e){return e.user.name}).join(f("comma"))+""+f("comma")+f("others",String(t.length-3))}return{id:e.thread_key.other_user_id||e.thread_key.thread_fbid,threadName:r,name:e.name,image:e.image?e.image.uri:null,emoji:l()(e,"customization_info.emoji",null),color:h()(l()(e,"customization_info.outgoing_bubble_color",null)).replace(/^FF/,"#")||null,type:a,tag:e.folder,muteUntil:-1===e.mute_until?1/0:e.mute_until,participants:t,otherUserId:e.other_user_id,messageCount:e.messages_count,characterCount:null}}var i=a("Xxa5"),s=a.n(i),o=a("exGp"),c=a.n(o),u=a("Q7hp"),l=a.n(u),d=a("ZT2e"),h=a.n(d),p=a("rOPl"),m=a("D9dJ"),f=chrome.i18n.getMessage;t.a=function(){function e(e,a){return t.apply(this,arguments)}var t=c()(s.a.mark(function e(t,a){var n,i,o,c,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={o0:{doc_id:"1498317363570230",query_params:{id:a,message_limit:0,load_messages:0,load_read_receipts:!1,before:null}}},i=Object(m.f)({queries:n},t),e.next=4,Object(m.h)("https://www.facebook.com/api/graphqlbatch/",i);case 4:return o=e.sent,c=o.o0.data.message_thread,u=r(c),e.abrupt("return",u);case 8:case"end":return e.stop()}},e,this)}));return e}()},"9beP":function(e,t,a){"use strict";function n(e,t){var a=t&&t.customization_info?t.customization_info.participant_customizations.find(function(t){return t.participant_id===e.id}):null;return{id:e.id,name:e.name,nickname:a?a.nickname:null,type:f()(e,"__typename","").toUpperCase(),url:e.url,gender:e.gender,shortName:e.short_name,username:e.username,avatar:e.big_image_src?e.big_image_src.uri:null,isViewerFriend:e.is_viewer_friend,isMessengerUser:e.is_messenger_user,isVerified:e.is_verified,isNessageBlockedByViewer:e.is_message_blocked_by_viewer,isViewerCoworker:e.is_viewer_coworker,isEmployee:e.is_employee}}function r(e){var t=e.all_participants.nodes.map(function(t){return{user:new x.a(n(t.messaging_actor,e)),messageCount:null,characterCount:null,inGroup:!0}}),a=void 0,r=void 0;if("ONE_TO_ONE"===e.thread_type){var i=e.other_user_id,s=t.find(function(e){return e.user.id!==i});a=s.user.type?s.user.type.toUpperCase():"USER",s.user.type||console.warn(s),r=s.user.nickname||s.user.name}else{if("GROUP"!==e.thread_type)return console.warn("Unknown thread type: ",e),null;a=e.thread_type,r=e.name?e.name:t.slice(0,3).map(function(e){return e.user.name}).join(y("comma"))+""+y("comma")+y("others",String(t.length-3))}return{id:e.thread_key.other_user_id||e.thread_key.thread_fbid,threadName:r,name:e.name,image:e.image?e.image.uri:null,emoji:f()(e,"customization_info.emoji",null),color:v()(f()(e,"customization_info.outgoing_bubble_color",null)).replace(/^FF/,"#")||null,type:a,muteUntil:-1===e.mute_until?1/0:e.mute_until,participants:t,otherUserId:e.other_user_id,messageCount:e.messages_count,characterCount:null}}function i(e,t,a){var n=r(e);return new b.a(p()({tag:a},n))}var s=a("Xxa5"),o=a.n(s),c=a("//Fk"),u=a.n(c),l=a("exGp"),d=a.n(l),h=a("woOf"),p=a.n(h),m=a("Q7hp"),f=a.n(m),g=a("ZT2e"),v=a.n(g),_=a("H6FY"),b=a("Z8Ub"),x=a("rOPl"),w=a("D9dJ"),y=chrome.i18n.getMessage;t.a=function(){function e(e){return t.apply(this,arguments)}var t=d()(o.a.mark(function e(t){var a,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["INBOX","ARCHIVED","PENDING"];return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.all(s.map(function(){var e=d()(o.a.mark(function e(a){var s,c,u,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={o0:{doc_id:"1475048592613093",query_params:{limit:r,before:null,tags:[a],includeDeliveryReceipts:!0,includeSeqID:!1}}},c=Object(w.f)({queries:s},t),e.next=4,Object(w.h)("https://www.facebook.com/api/graphqlbatch/",c);case 4:return u=e.sent,l=[],e.abrupt("return",u.o0.data.viewer.message_threads.nodes.map(function(e){return i(e,l,a)}).filter(function(e){return!!e}));case 7:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}()));case 2:return e.t0=function(e,t){return e.concat(t)},e.t1=[],e.t2=function(e,t){return t.messageCount-e.messageCount},a=e.sent.reduce(e.t0,e.t1).sort(e.t2),e.abrupt("return",new _.a(a));case 7:case"end":return e.stop()}},e,this)}));return e}()},A6jn:function(e,t,a){"use strict";function n(e){return new u.a(function(t,a){e.onerror=a,e.onsuccess=function(a){return t(e.result)}})}var r=a("Zrlr"),i=a.n(r),s=a("wxAW"),o=a.n(s),c=a("//Fk"),u=a.n(c),l=2,d=function(){function e(t){var a=this;i()(this,e),this._indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this._indexedDB||window.alert("Your browser doesn't support a stable version of IndexedDB. Such and such feature will not be available."),this._loaded=!1,this._dbName=t;var n=this._indexedDB.open(this._dbName,l);n.onerror=function(e){console.error(e)},n.onsuccess=function(e){a._db=e.currentTarget.result,a._onload&&(a._loaded=!0,a._onload())},n.onupgradeneeded=function(e){e.oldVersion<1&&e.currentTarget.result.createObjectStore("Threads",{keyPath:"id"}),e.oldVersion<2&&(e.currentTarget.result.deleteObjectStore("Threads"),e.currentTarget.result.createObjectStore("Threads",{keyPath:"id"}))}}return o()(e,[{key:"get",value:function(e){return n(this._db.transaction("Threads").objectStore("Threads").get(e))}},{key:"getAll",value:function(){return n(this._db.transaction("Threads").objectStore("Threads").getAll())}},{key:"add",value:function(e){e=e instanceof Array?e:[e];var t=this._db.transaction("Threads","readwrite").objectStore("Threads");return u.a.all(e.map(function(e){return n(t.add(e))}))}},{key:"put",value:function(e){e=e instanceof Array?e:[e];var t=this._db.transaction("Threads","readwrite").objectStore("Threads");return u.a.all(e.map(function(e){return n(t.put(e))}))}},{key:"remove",value:function(e){return n(this._db.transaction("Threads","readwrite").objectStore("Threads").delete(e))}},{key:"clear",value:function(){return n(this._db.transaction("Threads","readwrite").objectStore("Threads").clear())}},{key:"destroy",value:function(){return n(this._indexedDB.deleteDatabase(this._dbName))}},{key:"onload",set:function(e){this._onload=e,this._loaded&&e()},get:function(){return this._onload}}]),e}();t.a=d},AYf8:function(e,t,a){var n=a("WN07");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("8b06663e",n,!0,{})},AsOp:function(e,t,a){"use strict";var n=a("lpOu");t.a={name:"ColorChooserDropdown",mixins:[n.a],props:{colors:{required:!0}},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$el},methods:{choose:function(e){this.$emit("pick",e)}}}},Cv0L:function(e,t,a){var n=a("YLbd");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("184964ab",n,!0,{})},Cvxd:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".emoji{cursor:pointer}",""])},"D/tm":function(e,t,a){"use strict";function n(e){a("F/pw"),a("ulMN")}var r=a("gMY9"),i=a("liE3"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,"data-v-39072c8c",null);t.a=c.exports},D9dJ:function(e,t,a){"use strict";function n(e){return R(e,{credentials:"same-origin"})}function r(e){return E()(e).map(function(t){var a="object"===j()(e[t])?A()(e[t]):e[t];return encodeURIComponent(t)+(void 0!==e[t]?"="+encodeURIComponent(a):"")}).join("&")}function i(e,t,a){var n=void 0;return n=t instanceof FormData?t:r(t),R(e,{method:"POST",headers:a,credentials:"same-origin",body:n})}function s(e,t){return i(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{"content-type":"application/x-www-form-urlencoded; charset=utf-8"}).then(function(e){return e.text()}).then(function(e){return JSON.parse(e.replace(/for\s*\(\s*;\s*;\s*\)\s*;\s*/,"").split("\n")[0])})}function o(e,t){var a=new FormData;return a.append("fb_dtsg",e.token),a.append("images_only",!0),a.append("attachment[]",t),s("https://upload.facebook.com/ajax/mercury/upload.php?"+r(c({},e)),a,{})}function c(e,t){return x()({fb_dtsg:t.token,__rev:t.revision,__user:t.selfId,jazoest:"2"+_()(t.token).map(function(e){return e.charCodeAt(0)}).join(""),__a:1},e)}function u(e,t){return x()(c(e,t),{batch_name:"MessengerGraphQLThreadFetcher",client:"mercury"},e)}function l(e,t,a){var n=e.indexOf(t)+t.length;if(n<t.length)return"";var r=e.substring(n),i=r.indexOf(a);if(-1===i)throw Error("Could not find endTime `"+a+"` in the given string.");return r.substring(0,i)}function d(e){for(var t="";"0"!==e;){for(var a=0,n="",r=0;r<e.length;r++)a=2*a+parseInt(e[r],10),a>=10?(n+="1",a-=10):n+="0";t=a.toString()+t,e=n.slice(n.indexOf("1"))}return t}function h(){var e=Date.now(),t=Math.floor(4294967295*Math.random()),a=("0000000000000000000000"+t.toString(2)).slice(-22);return d(e.toString(2)+a)}function p(e,t){var a=p.canvas||(p.canvas=document.createElement("canvas")),n=a.getContext("2d");return n.font=t,n.measureText(e).width}function m(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=t;p(e,s+"px "+n)>=a&&s>=r;)s-=i,console.log(s);return s}t.i=r,t.h=s,t.j=o,a.d(t,"c",function(){return U}),t.e=c,t.f=u,a.d(t,"d",function(){return L}),t.b=h,t.g=p,t.a=m;var f=a("//Fk"),g=a.n(f),v=a("c/Tr"),_=a.n(v),b=a("woOf"),x=a.n(b),w=a("Xxa5"),y=a.n(w),k=a("exGp"),C=a.n(k),T=a("mvHQ"),A=a.n(T),D=a("pFYg"),j=a.n(D),I=a("fZjL"),E=a.n(I),S=a("1XH0"),M=a.n(S),O=new M.a(40,1/0),U=function(){var e=C()(y.a.mark(function e(t,a){var r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("https://graph.facebook.com/v2.12/"+a.id+"/picture?type=large&redirect=false&width=400&height=400&access_token").then(function(e){return e.json()});case 2:return r=e.sent,e.abrupt("return",r.data.url);case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=C()(y.a.mark(function e(){var t,a,r,i,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("https://www.facebook.com/");case 2:return t=e.sent,e.next=5,t.text();case 5:if(a=e.sent,r=l(a,'name="fb_dtsg" value="','"'),i=l(a,'name="xhpc_targetid" value="','"'),r&&i){e.next=10;break}throw new Error("Cannot extract from facebook page.");case 10:s=void 0;try{s=l(a,'revision":',",")}catch(e){}return e.abrupt("return",{token:r,selfId:i,revision:s});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=C()(y.a.mark(function e(){for(var t=this,a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new g.a(function(e,a){var r=null;try{r=function(){var r=C()(y.a.mark(function r(){var i;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch.apply(void 0,n);case 3:if(i=t.sent,i.ok){t.next=6;break}throw new Error("No ok.");case 6:return t.abrupt("return",e(i));case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",a(t.t0));case 12:case"end":return t.stop()}},r,t,[[0,9]])}));return function(){return r.apply(this,arguments)}}()}catch(e){return a(e)}O.add(r)}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},"EV/U":function(e,t,a){"use strict";var n=a("d7EF"),r=a.n(n),i=a("Xxa5"),s=a.n(i),o=a("//Fk"),c=a.n(o),u=a("exGp"),l=a.n(u),d=a("D9dJ"),h=chrome.i18n.getMessage;t.a=function(){function e(e,a,n,r){return t.apply(this,arguments)}var t=l()(s.a.mark(function e(t,a,n,i){var o,u,p,m,f,g,v,_,b,x,w,y,k,C,T,A,D,j,I,E,S,M,O,U,L,R,F,P=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e){var t=new Image;return t.crossOrigin="Anonymous",t.src=e,new c.a(function(e,a){return t.onload=function(){return e(t)}})},e.prev=1,u=70,p=250,m=40,f=[20,25],g=15,v=70,_=[[v,u],[n.width-p-v,u]],b="Verdana, Microsoft JhengHei",x=u+40,w=document.createElement("canvas"),w.width=n.width,w.height=n.height,y=w.getContext("2d"),y.fillStyle="rgb(0, 131, 255, 0.8)",y.fillRect(0,0,n.width,n.height),k=h("extName")+" ("+h("unofficial")+")",C=40,T=w.height-f[1],A=w.width-f[0],D="30px "+b,j=A-(h("generatedByPostfix")?Object(d.g)(h("generatedByPostfix"),D)+20:0),y.font=C+"px "+b,y.fillStyle="#fff",y.textAlign="right",y.fillText(k,j,T),I=50,E=[j-Object(d.g)(k,y.font)-I-15,w.height-I+(I-C)/2-f[1]+5],e.t0=y,e.next=32,o("../icons/128.png");case 32:return e.t1=e.sent,e.t2=E[0],e.t3=E[1],e.t4=I,e.t5=I,e.t0.drawImage.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5),y.font=D,y.fillText(h("generatedByPrefix"),E[0]-20,T),y.fillText(h("generatedByPostfix"),A,T),S=t.participants.map(function(e){return e.user}).sort(function(e){return e.id===i.selfId?-1:0}).reverse(),e.next=44,c.a.all(S.map(function(){var e=l()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,Object(d.c)(i,t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}},e,P)}));return function(t){return e.apply(this,arguments)}}()));case 44:return M=e.sent,O=r()(S,2),U=O[0],L=O[1],y.fillStyle="#fff",y.textAlign="center",S.forEach(function(e,t){y.font=Object(d.a)(e.name,m,p,b)+"px "+b,y.fillText(e.name,_[t][0]+p/2,_[t][1]+p+m+30)}),y.font="60px "+b,y.fillStyle="#fff",y.textAlign="center",y.fillText(h("countPrefix"),n.width/2,x+=60+g),R=120,y.fillStyle="#fff",y.fillRect(0,x+2*g,n.width,R),y.fillStyle="rgb(0, 131, 255)",y.font=R+"px "+b,y.fillText(t.messageCount,n.width/2,x+=R+g),y.fillStyle="#fff",y.font="60px "+b,y.fillText(h("countPostfix"),n.width/2,x+=60+g),F=h("rank",[U.name,a+1,L.name]),y.font="bold "+Object(d.a)(F,60,w.width-100,b)+"px "+b,y.fillText(F,n.width/2,x+=110),M.forEach(function(e,t){y.fillStyle="rgba(0, 0, 0, .4)",y.fillRect(_[t][0]-8-2,_[t][1]-8-2,p+16+4,p+16+4),y.fillStyle="#fff",y.fillRect(_[t][0]-8,_[t][1]-8,p+16,p+16),y.drawImage(e,_[t][0],_[t][1],p,p)}),e.abrupt("return",w);case 69:e.prev=69,e.t6=e.catch(1),console.error(e.t6);case 72:case"end":return e.stop()}},e,this,[[1,69]])}));return e}()},"F/pw":function(e,t,a){var n=a("SYPe");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("e8a974b4",n,!0,{})},G7WL:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.hide,expression:"hide"}],staticClass:"chooser"},["emoji"===e.type.toLowerCase()?a("div",[a("div",{staticClass:"chooser__trigger emoji-chooser__trigger",on:{click:e.handleTrigger}},[e._v(e._s(e.value||"👍"))]),e._v(" "),a("emoji-chooser-dropdown",{ref:"dropdown",staticClass:"chooser__panel",attrs:{emojis:e.emojis},on:{pick:e.confirmValue},model:{value:e.showChooser,callback:function(t){e.showChooser=t},expression:"showChooser"}})],1):e._e(),e._v(" "),"color"===e.type.toLowerCase()?a("div",{staticClass:"chooser__inner"},[a("div",{staticClass:"chooser__trigger color-chooser__trigger",style:{"background-color":e.value||"#0084ff"},on:{click:e.handleTrigger}},[e._v("\n      "+e._s(e.value?e.colors[e.value.toLowerCase()]||e.value:"Default")+"\n    ")]),e._v(" "),"color"===e.type.toLowerCase()?a("color-chooser-dropdown",{ref:"dropdown",staticClass:"chooser__panel",attrs:{colors:e.colors},on:{pick:e.confirmValue},model:{value:e.showChooser,callback:function(t){e.showChooser=t},expression:"showChooser"}}):e._e()],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},GvD7:function(e,t,a){"use strict";a("NBSW"),a("HbfR"),a("HQOb"),a("WjU3"),a("etvp"),a("Epmo"),a("15Ef"),a("FdDz"),a("vLez");!function(e,t,a){var n,r=e.getElementsByTagName(t)[0];e.getElementById(a)||(n=e.createElement(t),n.id=a,n.src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v2.12&appId=168178573969360&autoLogAppEvents=1",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk"),t.a={name:"Root",props:["ctx"]}},H6FY:function(e,t,a){"use strict";var n=a("Zx67"),r=a.n(n),i=a("Zrlr"),s=a.n(i),o=a("wxAW"),c=a.n(o),u=a("zwoO"),l=a.n(u),d=a("Pf15"),h=a.n(d),p=function(e){function t(e){s()(this,t);var a=l()(this,(t.__proto__||r()(t)).call(this));return e.forEach(function(e){return a.push(e)}),a}return h()(t,e),c()(t,[{key:"getUserById",value:function(e){return this.users.find(function(t){return t.id===e})||null}},{key:"users",get:function(){return this.reduce(function(e,t){(t.participants||[]).map(function(e){return e.user}).forEach(function(a){e.find(function(e){return e.id===a.id})||e.push(t.participants)})},[])}}]),t}(Array);t.a=p},HpGC:function(e,t,a){"use strict";var n=a("28Tg"),r=a("0e1R"),i=a("VU/8"),s=i(n.a,r.a,!1,null,null,null);t.a=s.exports},I7Zd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chooser"},[a("el-date-picker",{attrs:{type:"datetime",editable:!1,"value-format":"timestamp",placeholder:e.text,"picker-options":e.pickerOptions},on:{change:e.confirmValue},model:{value:e.until,callback:function(t){e.until=t},expression:"until"}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},IG4Q:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("thread-list",{ref:"threadList",attrs:{page:e.page,ctx:e.ctx},model:{value:e.ctx.threads,callback:function(t){e.$set(e.ctx,"threads",t)},expression:"ctx.threads"}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Im9U:function(e,t,a){"use strict";function n(e){a("AYf8"),a("Wa+q")}var r=a("5tLZ"),i=a("IG4Q"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,"data-v-c789e5b4",null);t.a=c.exports},Iw94:function(e,t,a){"use strict";var n=a("kepK"),r=a("OS6d"),i=a("VU/8"),s=i(n.a,r.a,!1,null,null,null);t.a=s.exports},KLBC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"avatar-container":!0,"multiple-avatar":e.images.length>=3},on:{click:e.onClick}},e._l(e.images.slice(0,3),function(t,n){return a("div",{key:n,staticClass:"avatar"},[a("img",{attrs:{alt:t.text,src:t.src,height:"32",width:"32"}}),e._v(" "),e.allowUpload?a("div",{staticClass:"allow-click"},[a("div",{staticClass:"edit-zone"},[a("span",[e._v(e._s(e.__("edit")))])]),e._v(" "),a("input",{ref:"input",refInFor:!0,staticClass:"image-upload-input",attrs:{type:"file",accept:".jpg,.png,.jpeg,.bmp,.tif,.tiff"},on:{change:e.onChange}})]):e._e()])}))},r=[],i={render:n,staticRenderFns:r};t.a=i},KsCB:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".el-tooltip[data-v-39072c8c]{position:absolute;width:100%;height:100%}.thread-name[data-v-39072c8c]{border:1px solid #ffffff00;border-radius:4px;cursor:pointer}.thread-name[data-v-39072c8c]:hover{border-color:#c0c4ccff}",""])},LTr6:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".color-circle{width:50px;height:50px;border-radius:50%;cursor:pointer;display:inline-block;margin:4px}",""])},M6M7:function(e,t,a){var n=a("WYsk");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("7b23fb6c",n,!0,{})},MnVa:function(e,t,a){"use strict";var n=a("Gu7T"),r=a.n(n),i=a("Xxa5"),s=a.n(i),o=a("//Fk"),c=a.n(o),u=a("exGp"),l=a.n(u),d=(a("b6br"),a("i71b"),a("D4uH")),h=a("Q7hp"),p=a.n(h),m=a("YzuW"),f=a("Pn47"),g=a("qoGc"),v=a("b8fD"),_=a("/hEa"),b=a("0GeO"),x=a("EV/U"),w=a("WhwK"),y=chrome.i18n.getMessage;t.a={name:"ThreadList",props:["value","page","ctx"],components:{Icon:d.a,DetailTemplate:f.a,NameTemplate:g.a,OperationButton:v.a,SharingDialog:_.a},data:function(){var e=this;return{keyword:this.$route.query.keyword||"",threadsPerPage:10,currentPage:this.page,selectedThreads:[],test:!1,typeFilters:["GROUP","USER","PAGE","REDUCEDMESSAGINGACTOR"].map(function(t){return{text:e.determineThreadType(t).name,value:t}})}},watch:{page:function(e){this.currentPage=e}},computed:{slicedTableData:function(){return this.tableData.slice((this.currentPage-1)*this.threadsPerPage,this.currentPage*this.threadsPerPage)},tableData:function(){var e=new RegExp(this.keyword,"i");return this.value.filter(function(t){return!!(t.threadName||"").match(e)||!!(t.id||"").match(e)||t.participants.some(function(t){return(p()(t,"user.name","")||"").match(e)||(p()(t,"user.nickname","")||"").match(e)||(p()(t,"user.id","")||"").match(e)})})}},methods:{fetchSelectedThreads:function(){var e=this;return l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$ga.event("ThreadDetails","fetch","length",e.selectedThreads.length),a={db:e.ctx.db,jar:e.ctx.jar},t.abrupt("return",c.a.all(e.selectedThreads.map(function(t){return t.loadDetail(a,e.$set)})));case 3:case"end":return t.stop()}},t,e)}))()},fetchMessages:function(e){var t=this;return l()(s.a.mark(function a(){var n;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.$ga.event("ThreadDetails","fetch","length",1),n={db:t.ctx.db,jar:t.ctx.jar},a.abrupt("return",e.loadDetail(n,t.$set));case 3:case"end":return a.stop()}},a,t)}))()},downloadHistory:function(e){var t=this;return l()(s.a.mark(function a(){var n,r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.$ga.event("Thread","download"),n=e?[e]:t.selectedThreads,a.next=4,c.a.all(n.map(function(){var e=l()(s.a.mark(function e(a){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.messages){e.next=4;break}return e.abrupt("return",a);case 4:return e.next=6,t.ctx.db.get(a.id);case 6:if(!(n=e.sent)){e.next=12;break}return a.messages=n.messages,e.abrupt("return",a);case 12:return e.abrupt("return",t.fetchMessages(a));case 13:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()));case 4:return r=a.sent,a.abrupt("return",Object(m.a)(r,t.ctx.jar.selfId));case 6:case"end":return a.stop()}},a,t)}))()},onChange:function(e,t){for(var a=this,n=function(){switch(e){case"name":return b.f;case"nickname":return b.g;case"image":return b.e;case"mute":return b.h;case"color":return b.c;case"emoji":return b.d;default:throw new Error("No type named: "+e)}}(),i=arguments.length,s=Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];var c=[this.ctx.jar,t].concat(r()(s));return n.apply(void 0,r()(c)).then(function(e){if(e.error){var t=new Error(e.errorDescription);throw t.message=e.errorSummary,t}return e}).then(function(){return t.reload(a.ctx.jar)}).catch(function(e){return console.error(e)})},generateImage:function(e,t){var a=this;return l()(s.a.mark(function n(){var r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={width:1200,height:630},n.next=3,Object(x.a)(e,t,r,a.ctx.jar);case 3:a.$refs.sharingDialog.canvas=n.sent,a.$refs.sharingDialog.show();case 5:case"end":return n.stop()}},n,a)}))()},onShareOnFb:function(e,t){var a=this;return l()(s.a.mark(function n(){var r,i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={width:1200,height:630},n.next=3,Object(x.a)(e,t,r,a.ctx.jar);case 3:return i=n.sent,n.abrupt("return",Object(w.a)(i,a.ctx.jar));case 5:case"end":return n.stop()}},n,a)}))()},reset:function(){var e=this;return this.$ga.event("Threads","reset"),this.$confirm(y("resetConfirmContent"),y("resetConfirmTitle"),{confirmButtonText:y("sure"),showCancelButton:!0,cancelButtonText:y("cancel"),center:!0}).then(function(){return e.ctx.db.destroy()},function(){return null})},getSummaries:function(e){var t=(e.columns,e.data);return["","","","","","",t.reduce(function(e,t){return t.messageCount+e},0),t.reduce(function(e,t){return t.characterCount+e},0)]},onSelect:function(e){this.selectedThreads=e},onRowClick:function(e,t,a){this.$refs["thread-list"].toggleRowExpansion(e)},determineThreadType:function(e){switch(e){case"USER":return{name:y("user"),tagType:"primary"};case"PAGE":return{name:y("fanpage"),tagType:"success"};case"GROUP":return{name:y("group"),tagType:"warning"};case"REDUCEDMESSAGINGACTOR":return{name:y("unknown"),tagType:"danger"}}return{name:y("unknown"),tagType:"danger"}},determineThreadTag:function(e){switch(e){case"INBOX":return{name:y("inbox"),tagType:"primary"};case"ARCHIVED":return{name:y("archived"),tagType:"success"};case"PENDING":return{name:y("pending"),tagType:"warning"}}return{name:y("unknown"),tagType:"danger"}},typeFilterMethod:function(e,t,a){return t[a.property]===e}}}},N8Ld:function(e,t,a){var n=a("dtPq");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("0d430546",n,!0,{})},NmZh:function(e,t,a){"use strict";function n(e){a("Cv0L")}var r=a("Pg0u"),i=a("+jDD"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,"data-v-023559e1",null);t.a=c.exports},OF98:function(e,t,a){"use strict";t.a={name:"Message",props:["messageData","selfId"],data:function(){return{align:"right",boxAlign:"box_r",localTimeString:""}},created:function(){var e=new Date(Number(this.messageData.timestamp));this.localTimeString=e.toLocaleDateString()+" "+e.toLocaleTimeString(),this.align=Number(this.messageData.senderID)===Number(this.selfId)?"right":"left",this.boxAlign=Number(this.messageData.senderID)===Number(this.selfId)?"box_r":"box_l"}}},OS6d:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clearfix"},[e.isSelf?e._e():a("img",{staticClass:"avatar",attrs:{alt:e.senderName,src:e.senderAvatar,height:"32",width:"32"}}),e._v(" "),a("div",{class:["outer",e.align]},[a("div",{class:[e.boxAlign],attrs:{id:e.messageData.timestamp,title:e.senderName,time:e.localTimeString}},[a("span",{staticClass:"message-text"},[e._v(e._s(e.messageData.body?e.messageData.body:""))]),e._v(" "),e._l(e.messageData.attachments,function(t,n){return a("div",{key:n},["sticker"===t.type?a("img",{staticClass:"sticker-img",attrs:{src:t.url}}):e._e(),e._v(" "),"image"===t.type?a("img",{staticClass:"image-img",attrs:{src:t.previewUrl}}):e._e(),e._v(" "),"audio"===t.type?a("audio",{attrs:{src:t.url,controls:""}},[e._v("\n          Your browser does not support the "),a("code",[e._v("audio")]),e._v(" element.\n        ")]):e._e(),e._v(" "),"video"===t.type?a("video",{attrs:{src:t.url,controls:""}},[e._v("\n          Your browser does not support the "),a("code",[e._v("video")]),e._v(" element.\n        ")]):e._e(),e._v(" "),"file"===t.type?a("a",{attrs:{href:t.url,target:"_blank"}},[e._v("\n          💾 "+e._s(t.filename)+"\n        ")]):e._e()])})],2),e._v(" "),e.reactions?a("div",{staticClass:"reaction"},[a("span",{staticClass:"reactionEmoji"},[e._v(e._s(e.reactions))]),e._v(" "),a("span",{staticClass:"reactionNum"},[e._v(e._s(this.messageData.messageReactions.length))])]):e._e()])])},r=[],i={render:n,staticRenderFns:r};t.a=i},PBgw:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAI8UlEQVRYw+2XbWxT1xnHf+feaztx7Nh5I0CJmhYoG2ukQlm3kcLES0uqwtqhrdqHUug2PgypFZVGpU0UJPaBaaumCamdqkm06oREmXjZRFlbyuigpKQZXULKQmkKGSZOHMdxbHL9cu+59+yDHTcJaaHQ7VMf6ci65zzPef7nf56XY/hKvpiImzVsek+F+xRrLfieA19zIQygwYgO533wl+lw8NxiMfJ/ATbvpPJkBM/E4FlLUfN5ul5Boh5+W6743YUlwv6fAXusVc04ZPNnC5q/iJ0XWh/18IN9i0X/jdpoN6r4XJuafizHCUvSjIQvMizJ4mN5/rG9TU3/0hmbdVS9fcVhxU1HpYIGnWORB8TKL42xbx1Vm6/kWIEE7JscEiI5Vtz3lnrmSwH269Oq6mKWpz7XaQ7If8ZaHrRx3xdzPPVcq5pzy8Deu8rSeI47cZg6hjKwqREerAay4+atwtp9lbCoogjMgaEcd5xIseKWgXWluO8zmTJhfSO8cC/sWwz3hgpzmFAn4NXvwGMzoD1eBFu80vNXmXfLwK6Y1GMXGRg/RmH1THhlcUEv5IXXl8E9YXjiTuj9PngV/LwN1CTbRJbQ9fwa11PQJS7OpEkLHrgdDqyAthicHYKN34D6cji9Gnw6vPoRrD9ePPqkTNYE6paBzSvjPx3D47i14cFG+NMyePZd+H1nYW4oC79YVAD1+iX4yVtFG3fShgpmBYhfvFVgcwOc7BwEJQpO5lfB4lpYuAf6UoAX0OGXx6HKgHumwQ//CtJlykARCuZW0HHLwCp0Tk0zOB3L8G00GLwKO94FVxQdj+uAz7wNXg2ysrg2OQRcmOanrdbL0ev5vW7wv7JaOCsbeH6sTg1dBdctOp1UQHM2pHNTrI2raSsaeH7PI2L4en5vuMHc/Qe1+8N+nkS/UYtr2WqazstdPxM/vhH1ErD169c/dvLkyeU+n08JIVBqUuIIjeiyl1ekq74597opNVkUBJPtH09/e90xQy9ckpQSwzAQQuC6rrBtWz388MP7du3adRzGxVhPT88Ttm23FLaZWmr+9iO8y15S8dqV4oa4ViAE3B75o6tO7bxDeD0/lVLiOA5CCCzLwnULaWvbNufPn7eAicDOnTs3x+/366Ojo5imiaYVTjbGnBAFJPKTD6BqZcnxNdyrwtA0h+Dg31Gtv6K356TW3Nys1dfX88YbbxAKhbj//vt58803yWQyBINBysrKaGtrmz22XQmYbdu2aY7i8Xjwl5fjKkU2m8Xn8yGEIJvNUl5eDroHaYOGzYzISzjDPeSrFpDRqgDwu0mMkW64cpzcQDdKuTz00EMsWbKEXbt2kclkaGhooLm5maNHj+LxeFBKkclkyOfz9jXApJS4ShEMBjECHqSUbN68mVWrViGEoL29nRdffJGYxyA42krlv7YjEx+jK8XmTTNYsmQuQghOnbrACy+8hgL0igpqa2rYuXMn+XyepqYmNE3D4/EQDoc5dOgQ+/fvZ/fu3UgpCYfDIpfLTQSWz+fRdZ262jpcpdiyZQstLS1s27YNy7LYvn078+bNY9NvDuO/3EnQZ3I1GGTbtm00NzezY8cOhBBs3bqVuXPnsnXrVoKBAHV1tRw/fhy/348QAsdxmDZtGosWLeLIkSNIKQmFQkSj0QnJWEr+BQsWbKqsrJzW1HQ3a1avYePGjRw+fJjLly/j8/no7+/n8ccfpywXIR3tZtas21izeg0bnnySvXv3khgaQtd1EokE69atQxOCZDLJ7Nl3ks3miMVixONx+vv7EcC9ixaxb98+gsEgUkp8Ph+hUKg7Fou9BuMK7IIFC5g/fz6JRIKKQADHceg6exYhBEIIenp6iMfjzJkzh2QySWwgxm2zZiGl5OLFiyAKidrb20s+n+f2xkaGh4dJJpMopRBFOsS40NE0jVw2i2VZNDU1sXDhQq6JsYGBAUzTxBwdRbkupmnS09ODZVlomkY2lyMej+Pz+RgeHsbn8+Lzekmn01z85BOklAXHmkYqlcLn85EaGcFfXoa0ZaksKKUYGhqiu7ubdDqNpmmlX5/Pdy2wkZERLMsiOZIkb1lYlkVfNIrjOGiaRsY0MU0TpRSpdBqvYSClJJ/L0ReNoopsOI5DNpsF4OroKL5kEjOTLQEbA+e6LrquoxsGo6aJYRiMBf4EYKlUCtd1SSQS9F3pwzRNotFoibFMJsPo6CiJRILhRAJD1xmIxTAzGaLRaIGxYq0zTZO+vj6SySQoF9dVKEATU1RlIchks+iaVrKfACyZTJay5qMLHxGJRNA0rZCtmobrugwNDdHR0YGUNsp1OdvZyby77kIIQT6fRwhBeXk5sViMzs5ObNsmb1lkzAxLly7lqaefLjE35mvLli0khodJaRPfExOAaUXUPT09DA4OUldXx8DAAIZhEAqFcByH06dPF/qbUpz54AOWLV+Ov7ycRCIBQHV1Nclkkvb2f5baji0lNbW19Pb2cuDAAXRdL+2RSqVQSjEyMjLhuicUWF3X8Xq9RCIR2tvbWb58OZcuXUJKyZo1a7hw4QKdnZ3oeqH5dnd3c+bMGVa1tLBnzx6UUqxatYqOjg4+/LALXdcLfRGorKzknXfe4ciRI+iGgVGMr/KyMlAKx3FwnE8fcKVLDYVCXZqm3e26LkopAoEAjz7yCFXV1TiOg5SSgwcPMjg4iBACTdNwHIdwOMzatWsJBAKl1rJ//35SqRQAmqahaRobNmzg/fffJ5vNEg6HiUQi9Pf3YxgGtm3j8XhwXfdgKpVaOwFYY2Pjvy3L+vpY5kkpAaipqUEIwfDwMK7rYhgGjuOg64V/GWNBX11dPaVe8dC0tLRgFbPdMAyCwSBdXV10dnYihKCiooLZs2efaG1t/e6EqwwEAsFcLkc6lSZv5UsZ0t/fXzr52JUDuK6G43waE9FotMTkeD2AbDZLR0cHkUiEeDw+RgQNDQ3ouo6UEr/fT0VFRfiaGJs5c+aJwcHBlsY7GguVWnz+g2vKx+QUOqBw3cJLpa6ujvr6+lItS6fTNDQ0IIRA13W3srLydb6Sm5T/AuVFlVI6hy1nAAAAAElFTkSuQmCC"},PQho:function(e,t,a){var n=a("TM3Z");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("2316a6b4",n,!0,{})},Pg0u:function(e,t,a){"use strict";var n=chrome.i18n.getMessage;t.a={name:"About",data:function(){return{supportPage:"https://chrome.google.com/webstore/detail/"+n("@@extension_id")+"/support",reviewPage:"https://chrome.google.com/webstore/detail/"+n("@@extension_id")+"/reviews"}}}},Pn47:function(e,t,a){"use strict";function n(e){a("N8Ld")}var r=a("ldhe"),i=a("ps9w"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,"data-v-733af613",null);t.a=c.exports},Ru6b:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".el-table__row{cursor:pointer}.el-table__expand-icon>.el-icon-arrow-right:before{color:#f03c24;font-size:16px}.thread-list-cell,.thread-list-table{border-color:#dcdfe6!important}.select-box-cell{text-align:center}",""])},SYPe:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".el-tooltip__popper{max-width:240px}",""])},SsGm:function(e,t,a){"use strict";var n=a("//Fk"),r=a.n(n),i=a("Xxa5"),s=a.n(i),o=a("exGp"),c=a.n(o),u=(a("xfIr"),a("i71b"),a("D4uH")),l=a("WhwK");t.a={name:"SharingDialog",components:{Icon:u.a},props:["jar"],data:function(){return{canvas:null,cropeedCanvas:null,isVisibled:!1,src:this.canvas?this.canvas.toDataURL():null}},watch:{canvas:function(){var e=document.createElement("canvas");e.width=1200,e.height=630,e.getContext("2d").drawImage(this.canvas,0,0),this.croppedCanvas=e,this.src=this.croppedCanvas.toDataURL()}},methods:{show:function(){this.isVisibled=!0},hide:function(){this.isVisibled=!1},toggle:function(){this.isVisibled=!this.isVisibled},share:function(){var e=this;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.canvas){t.next=2;break}return t.abrupt("return",Object(l.a)(e.croppedCanvas,e.jar));case 2:case"end":return t.stop()}},t,e)}))()},download:function(){var e=this;return c()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$ga.event("SharingImage","download"),t.prev=1,t.next=4,new r.a(function(t,a){return e.croppedCanvas.toBlob(t)});case 4:a=t.sent,chrome.downloads.download({filename:"share.png",url:URL.createObjectURL(a)}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}},t,e,[[1,8]])}))()}}}},Syw2:function(e,t,a){"use strict";function n(e){a("bxqY")}var r=a("AsOp"),i=a("wLWy"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,null,null);t.a=c.exports},T8vj:function(e,t,a){var n=a("lkp+");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("b837244a",n,!0,{})},TM3Z:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".operation-bar[data-v-0417bda4]{min-height:32px;padding:20px;border:1px solid #dcdfe6;border-bottom:none;transition:color .15s ease,background-color .15s ease}.show-operation-buttons[data-v-0417bda4]{color:#fff;background-color:#0083ff;transition:color .15s ease,background-color .15s ease}.operation-bar-float-right[data-v-0417bda4]{display:inline-block;float:right;margin-right:25px}.operation-bar-button[data-v-0417bda4]{padding:6px;margin-left:0}.operation-bar-form-item[data-v-0417bda4]{margin-bottom:0}",""])},TlCw:function(e,t,a){"use strict";var n=a("lpOu");t.a={name:"EmojiChooserDropdown",mixins:[n.a],props:{emojis:{required:!0}},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$el},methods:{choose:function(e){this.$emit("pick",e)}}}},UFng:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"aside[data-v-341baa28]{min-width:50px}.el-menu-vertical[data-v-341baa28]{left:0}.el-menu-vertical[data-v-341baa28]:not(.el-menu--collapse){min-height:400px}.el-menu>li[data-v-341baa28]:last-child{float:none}",""])},Us9Y:function(e,t,a){var n=a("Cvxd");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("0543fd07",n,!0,{})},"V/ZL":function(e,t,a){"use strict";var n=a("5xtx"),r=a("Syw2"),i=a("0GeO"),s=a("rdhm");t.a={name:"Chooser",components:{EmojiChooserDropdown:n.a,ColorChooserDropdown:r.a},directives:{Clickoutside:s.a},props:{value:String,type:String},data:function(){return{emojis:i.b,colors:i.a,showChooser:!1,displayedColor:!1}},mounted:function(){this.popperElm=this.$refs.dropdown.$el},methods:{handleTrigger:function(){this.showChooser=!this.showChooser},confirmValue:function(e){e=e&&"#0084ff"===e.toLowerCase()?null:e,this.$emit("input",e),this.$emit("change",e),this.showChooser=!1},hide:function(){this.showChooser=!1}}}},WN07:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".el-table__expand-icon>.el-icon-arrow-right:before{color:#f03c24;font-size:16px}",""])},WYsk:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".avatar-container[data-v-74de4caf]{border-radius:50%;overflow:hidden;height:32px;width:32px}.avatar[data-v-74de4caf]{position:relative}.multiple-avatar>.avatar[data-v-74de4caf]{float:left}.multiple-avatar>.avatar[data-v-74de4caf]:first-child{width:21px;border-right:1px solid #fff}.multiple-avatar>.avatar:first-child>img[data-v-74de4caf]{margin-left:-5px}.multiple-avatar>.avatar:nth-child(n+2)>img[data-v-74de4caf],.multiple-avatar>.avatar[data-v-74de4caf]:nth-child(n+2){width:11px;height:16px}.allow-click[data-v-74de4caf]{position:absolute;top:0;height:32px;width:32px;border-radius:50%;cursor:pointer;background:rgba(0,0,0,.4);opacity:0}.allow-click[data-v-74de4caf]:hover{opacity:1}.edit-zone[data-v-74de4caf]{color:#fff;text-align:center;bottom:0;position:absolute;width:100%;font-size:12px}.image-upload-input[data-v-74de4caf]{display:none}",""])},"Wa+q":function(e,t,a){var n=a("fNXF");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("03c7319b",n,!0,{})},WhwK:function(e,t,a){"use strict";var n=a("Xxa5"),r=a.n(n),i=a("//Fk"),s=a.n(i),o=a("exGp"),c=a.n(o),u=a("D9dJ"),l=a("pM2J"),d=(a.n(l),chrome.i18n.getMessage);t.a=function(){function e(e,a){return t.apply(this,arguments)}var t=c()(r.a.mark(function e(t,a){var n,i,o,c,h,p,m,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={width:1200,height:630},e.prev=1,e.next=4,new s.a(function(e,a){return t.toBlob(e)});case 4:return i=e.sent,e.next=7,Object(u.j)(a,i);case 7:o=e.sent.payload.metadata[0],c=Object(u.i)({cb:"f2c3a60a05f73a4",domain:l.fb.domain,origin:l.fb.website,relation:"opener"}),h="http://staticxx.facebook.com/connect/xd_arbiter/r/Ms1VZf1Vg1J.js?version=42#"+c,p=h+"&relation=opener&frame=f236fd3a78b853&result=%22xxRESULTTOKENxx%22",m=Object(u.i)({action_properties:{object:{"og:url":l.fb.website,"og:title":d("extName"),"og:description":d("extDescription"),"og:image":o.src,"og:image:width":n.width,"og:image:height":n.height,"og:image:type":o.filetype}},action_type:"og.likes",app_id:l.fb.id,channel_url:h,e2e:{},locale:d("@@ui_locale"),mobile_iframe:!1,next:p,sdk:"joey",version:l.fb.version}),f="https://www.facebook.com/"+l.fb.version+"/dialog/share_open_graph?"+m,chrome.tabs.create({url:f}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0);case 19:case"end":return e.stop()}},e,this,[[1,16]])}));return e}()},Xmgt:function(e,t,a){"use strict";var n=a("euM0"),r=a("cQKJ"),i=a("VU/8"),s=i(n.a,r.a,!1,null,null,null);t.a=s.exports},YAsZ:function(e,t,a){"use strict";var n=a("hKAa"),r=a("I7Zd"),i=a("VU/8"),s=i(n.a,r.a,!1,null,null,null);t.a=s.exports},YLbd:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"#about[data-v-023559e1]{text-align:center;max-width:768px;margin:0 auto}#about h1[data-v-023559e1]{font-size:35px}#about h3[data-v-023559e1]{font-size:25px}#about p[data-v-023559e1]{font-size:15px;color:#747474}#about h1[data-v-023559e1],h2[data-v-023559e1],h3[data-v-023559e1],h4[data-v-023559e1]{font-weight:400}",""])},YzuW:function(e,t,a){"use strict";var n=a("Xxa5"),r=a.n(n),i=a("c/Tr"),s=a.n(i),o=a("exGp"),c=a.n(o),u=a("zL8q"),l=(a.n(u),a("7+uW")),d=a("WgY6"),h=a.n(d),p=a("O3gb"),m=a.n(p),f=a("HpGC"),g=chrome.i18n.getMessage,v=function(){return Object(u.Message)({type:"error",dangerouslyUseHTMLString:!0,message:'<p><span>Oops, cannot download messages. </span>\n    <a href="https://github.com/ALiangLiang/Counter-for-Messenger/issues" target="_blank">Please contact developer.</a></p>'})};t.a=function(){function e(e,a){return t.apply(this,arguments)}var t=c()(r.a.mark(function e(t,a){var n,i,o,c,u,d,p,_,b;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",v());case 2:return n=t instanceof Array?t:[t],i=new h.a,o=g("extName"),c=function(e,t){return String(e).padStart(t,"0")},u=new Date,d=""+u.getFullYear()+c(u.getMonth()+1,2)+c(u.getDate(),2),n.forEach(function(e){var t=e.messages,n=e.participants,r=o+" - "+e.threadName+" - "+d;return m()(t,1e4).forEach(function(t,c){var u=new l.default({components:{HtmlElement:f.a},render:function(e){return e("html-element",{attrs:{title:r,"messages-data":t,participants:n,"self-id":a}})}}).$mount().$el,h=document.implementation.createDocument(null,"",null);h.appendChild(document.createElement("html"));var p=h.lastElementChild;s()(u.children).forEach(function(e){return p.appendChild(e)});var m=new Blob(["<!DOCTYPE html>",p.outerHTML],{type:"text/html"}),g=(o+" - "+e.threadName+" - "+d+" - "+(c+1)+".html").replace("(/|\\)","");return i.file(g,m)})}),e.prev=9,e.next=12,fetch("/assets/download.css");case 12:return e.next=14,e.sent.blob();case 14:return p=e.sent,i.file("download.css",p),e.next=18,i.generateAsync({type:"blob",compression:"DEFLATE"});case 18:_=e.sent,b=o+" - "+d+".zip",chrome.downloads.download({filename:b,url:URL.createObjectURL(_)}),e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(9),console.error(e.t0),e.abrupt("return",v());case 27:case"end":return e.stop()}},e,this,[[9,23]])}));return e}()},Z43r:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"event-outer"},[a("span",{staticClass:"event-snippet"},[e._v("\n    "+e._s(e.messageData.snippet)+"\n  ")])])},r=[],i={render:n,staticRenderFns:r};t.a=i},Z8Ub:function(e,t,a){"use strict";var n=a("Xxa5"),r=a.n(n),i=a("exGp"),s=a.n(i),o=a("fZjL"),c=a.n(o),u=a("woOf"),l=a.n(u),d=a("Zrlr"),h=a.n(d),p=a("wxAW"),m=a.n(p),f=a("o1TK"),g=a("7wdR"),v=a("rOPl"),_=a("4yG7"),b=a.n(_),x=a("Q7hp"),w=a.n(x),y=chrome.i18n.getMessage,k=function(){function e(t){h()(this,e),l()(this,t),this.isLoading=!1}return m()(e,[{key:"getParticipantById",value:function(e){return this.participants&&this.participants.length?this.participants.find(function(t){return w()(t,"user.id")===e})||null:null}},{key:"analyzeMessages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.messages;if(!t)throw new Error("Need messages.");var a=0,n={};t.forEach(function(e){var t=e.body?e.body.length:0;a+=t;var r=n[e.senderID];b()(n,e.senderID+".messageCount",w()(r,"messageCount",0)+1),b()(n,e.senderID+".characterCount",w()(r,"characterCount",0)+t)}),this.characterCount=a,c()(n).forEach(function(t){var a=n[t],r=e.getParticipantById(t);r?(r.messageCount=a.messageCount,r.characterCount=a.characterCount):(r={user:new v.a({id:t,name:"<"+y("unknown")+">",type:null,url:null}),messageCount:a.messageCount,characterCount:a.characterCount,inGroup:!1},e.participants.push(r))})}},{key:"reload",value:function(){function e(e){return t.apply(this,arguments)}var t=s()(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(t,this.id);case 2:return a=e.sent,delete a.participants,l()(this,a),e.abrupt("return",this);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadDetail",value:function(){function t(e,t){return a.apply(this,arguments)}var a=s()(r.a.mark(function t(a,n){var i,s,o,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,a.db.get(this.id);case 3:if(i=t.sent,s=void 0,!i){t.next=12;break}if(void 0===(o=w()(i,"messages.length"))){t.next=12;break}if(o!==this.messageCount){t.next=11;break}return this.isLoading=!1,t.abrupt("return");case 11:this.messages||(s=this.messageCount-o);case 12:if(this.messages){t.next=21;break}return t.next=15,Object(f.a)({jar:a.jar,thread:this,$set:n,messageLimit:s});case 15:c=t.sent,this.messages=(w()(i,"messages")||[]).concat(c),this.characterCount=e.culCharacterCount(this.messages),this.analyzeMessages(),a.db.put({id:this.id,messages:this.messages}),this.needUpdate=!1;case 21:return this.isLoading=!1,t.abrupt("return",this);case 23:case"end":return t.stop()}},t,this)}));return t}()}],[{key:"culCharacterCount",value:function(e){return e.reduce(function(e,t){return(t.body?t.body.length:0)+e},0)}}]),e}();t.a=k},b8fD:function(e,t,a){"use strict";var n=a("uRjz"),r=a("p+27"),i=a("VU/8"),s=i(n.a,r.a,!1,null,null,null);t.a=s.exports},baJU:function(e,t,a){"use strict";function n(e){a("M6M7")}var r=a("go10"),i=a("KLBC"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,"data-v-74de4caf",null);t.a=c.exports},bwwf:function(e,t,a){var n=a("yD2d");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("171fd2aa",n,!0,{})},bxqY:function(e,t,a){var n=a("LTr6");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("b834d2d6",n,!0,{})},cQKJ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"container"}},[a("div",{staticClass:"title"}),e._v(" "),e._l(e.messagesData,function(t,n){return a("div",{key:n},["message"===t.type?a("message",{attrs:{"message-data":t,participants:e.participants,"self-id":e.selfId}}):e._e(),e._v(" "),"event"===t.type?a("event",{attrs:{"message-data":t}}):e._e()],1)})],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},dIbz:function(e,t,a){"use strict";var n=a("d7EF"),r=a.n(n),i=a("baJU"),s=a("D/tm");t.a={name:"DetailTemplate",props:["thread"],components:{Avatar:i.a,ThreadName:s.a},methods:{onChangeThreadName:function(e,t){var a=r()(t,1),n=a[0];return this.$ga.event("Thread","set","name"),this.$emit("change","name",e,n)},onChangeNickname:function(e,t){var a=r()(t,2),n=a[0],i=a[1];return this.$ga.event("Thread","set","nickname"),this.$emit("change","nickname",e,i,n)},onChangeThreadImage:function(e,t){return this.$ga.event("Thread","set","image"),this.$emit("change","image",e,t)}}}},dtPq:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".participant-avatar[data-v-733af613]{display:inline-block;margin-right:5px;cursor:pointer}.thread-form-inline>.el-form-item[data-v-733af613]{margin-bottom:0}.thread-form-inline>div[data-v-733af613]:nth-child(n+2){border-left:1px solid #e6e6e6;padding-left:12px}",""])},eR4G:function(e,t,a){var n=a("eiWw");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("704c4a52",n,!0,{})},eiWw:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"body{margin:0}.el-main{padding-left:0;padding-right:0}.el-header{padding:0}.el-header>ul>li:first-of-type{margin-left:50px}.el-footer{position:fixed;width:100%;bottom:0;text-align:center;background-color:#272727;color:#fff;padding-top:5px;z-index:1}.el-footer.offset-footer{background-color:#fff;position:relative}.el-footer a{color:#fff;text-decoration:none}.el-footer a>svg{padding-right:5px;padding-left:10px}.el-footer{height:32px!important}.share-link{text-decoration:none}.share-link>.fa-icon{padding-bottom:5px}.navbar>li:nth-last-child(-n+4){float:right}",""])},euM0:function(e,t,a){"use strict";var n=a("Iw94"),r=a("fc4V");t.a={name:"Thread",components:{Message:n.a,Event:r.a},props:["messagesData","participants","selfId"]}},fNXF:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".page[data-v-c789e5b4]{min-width:1080px;max-width:70%;margin:auto}",""])},fc4V:function(e,t,a){"use strict";var n=a("OF98"),r=a("Z43r"),i=a("VU/8"),s=i(n.a,r.a,!1,null,null,null);t.a=s.exports},fsJY:function(e,t,a){var n=a("5oW5");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("8fcd772a",n,!0,{})},gMY9:function(e,t,a){"use strict";var n=a("rdhm"),r=chrome.i18n.getMessage;t.a={name:"ThreadName",directives:{Clickoutside:n.a},props:["thread"],data:function(){var e="GROUP"===this.thread.type;return{isEdit:!1,isGroup:e,tooltip:this.getTooltip(),name:e?this.thread.name:this.getNickname(),placeholder:e?"替此對話命名":this.getOtherUser().user.name}},mounted:function(){this.isEdit=!1},watch:{"thread.type":function(){var e="GROUP"===this.thread.type;this.isGroup=e},"thread.threadName":function(){var e="GROUP"===this.thread.type;this.name=e?this.thread.name:this.getNickname()},"thread.participants":function(){var e="GROUP"===this.thread.type;this.tooltip=this.getTooltip(),this.placeholder=e?"替此對話命名":this.getOtherUser().user.name}},methods:{getTooltip:function(){return this.thread.participants.map(function(e){return e.user.name}).join(r("comma"))},getOtherUser:function(){var e=this;return this.thread.participants.find(function(t){return t.user.id!==e.thread.otherUserId})},getNickname:function(){return this.getOtherUser().user.nickname},onClick:function(){this.isEdit=!0},onChange:function(e){this.isEdit=!1;var t="GROUP"===this.thread.type;this.$emit("change",[e,t?void 0:this.getOtherUser().user.id])},hide:function(){this.isEdit=!1}}}},go10:function(e,t,a){"use strict";t.a={name:"Avatar",props:{images:Array,allowUpload:Boolean},methods:{onClick:function(){this.allowUpload&&this.$refs.input[0].click()},onChange:function(){this.$emit("change",this.$refs.input[0].files[0])}}}},hKAa:function(e,t,a){"use strict";var n=chrome.i18n.getMessage;t.a={name:"MuteUntil",props:{value:Number},data:function(){var e=this.makeText(),t=this.chortcutEvent;return{text:e,until:"",pickerOptions:{disabledDate:function(e){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e<t||e>t.getTime()+2592e6},shortcuts:[{text:n("unmute"),onClick:function(e){return t(e,0)}},{text:"30 "+n("minutes"),onClick:function(e){return t(e,30)}},{text:"1 "+n("hour"),onClick:function(e){return t(e,60)}},{text:"8 "+n("hours"),onClick:function(e){return t(e,480)}},{text:"1 "+n("day"),onClick:function(e){return t(e,1440)}},{text:"1 "+n("week"),onClick:function(e){return t(e,10080)}},{text:"1 "+n("month"),onClick:function(e){return t(e,43200)}},{text:n("always"),onClick:function(e){return t(e,1/0)}}]}}},methods:{makeText:function(e){var t=e?1e3*e+new Date:this.value,a="";return t===1/0?a=n("muteForever"):t&&(a=new Date(1e3*t).toLocaleString()),a},confirmValue:function(e){var t=Math.round((e-new Date)/1e3),a=t;return t<0?(this.until=null,a=0):t===1/0?a=-1:t>2592e3&&(a=2592e3),this.$emit("change",a),this.text=this.makeText(t),t},chortcutEvent:function(e,t){t!==1/0?e.$emit("pick",function(e){var t=new Date;return t.setTime(t.getTime()+6e4*e),t}(t)):e.$emit("pick",t)}}}},hmHE:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".sharing-dialog{width:auto;display:inline-block}",""])},i7Q4:function(e,t,a){"use strict";var n=a("//Fk"),r=a.n(n),i=a("Gu7T"),s=a.n(i),o=a("ifoU"),c=a.n(o),u=a("Xxa5"),l=a.n(u),d=a("exGp"),h=a.n(d),p=a("zL8q"),m=(a.n(p),a("+x9i")),f=a.n(m),g=a("rE+K"),v=a("/hEa"),_=a("o1TK"),b=chrome.i18n.getMessage,x=new f.a({lightness:[.35,.5,.65]});t.a={name:"ChartPage",components:{BarChart:g.a,SharingDialog:v.a},props:["ctx"],data:function(){var e=this.ctx.threads;return{chartHeight:document.documentElement.clientHeight-130,chartContainerStyles:{position:"relative",width:"100%","min-width":"400px",height:document.documentElement.clientHeight-130+"px"},isCollapse:!1,loading:null,loadingCount:0,chartData:null,threads:e,rank:e.length,sliderMax:1,isShowCharacter:!1,isShowDetail:!1,barOption:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,fontSize:16,padding:5,text:""},legend:{display:!1},tooltips:{filter:function(e){return 0!==e.xLabel&&!isNaN(e.xLabel)}},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,barPercentage:.7}]}}}},created:function(){var e=this;return h()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$nextTick(function(){return window.addEventListener("resize",function(){return e.chartHeight=document.documentElement.clientHeight-130})}),e.renderChart(),e.changeChartTitle();case 3:case"end":return t.stop()}},t,e)}))()},watch:{chartHeight:function(e){this.chartContainerStyles.height=e+"px",this.renderChart()},isShowDetail:function(){this.changeChartTitle(),this.renderChart()},isShowCharacter:function(){this.changeChartTitle(),this.renderChart()}},computed:{amountOfMaxDisplay:function(){return this.chartHeight/20}},methods:{changeChartTitle:function(){var e=[b(this.isShowDetail?"detail":"total"),b(this.isShowCharacter?"character":"message")];this.barOption.title.text=e.join(" / ")},clickMenuItemHandle:function(e){var t=this.$refs[e];t.$emit("input",!t.value)},generateSharingDialog:function(){this.$ga.event("SharingImage","generate"),this.$refs.sharingDialog.canvas=this.$refs.barChart.canvas,this.$refs.sharingDialog.show()},renderChart:function(){var e=this;return h()(l.a.mark(function t(){var a,n,r,i,o,u,d;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.threads.length-Number(e.rank),n=e.threads.slice(a,a+e.amountOfMaxDisplay),!e.isShowCharacter&&!e.isShowDetail){t.next=5;break}return t.next=5,e.syncThreadDetail(n);case 5:e.isShowDetail?e.ctx.purchased?(o=n.map(function(e){return e.threadName}),u=new c.a,n.forEach(function(t,a){var r="GROUP"!==t.type?t.color:null;t.participants.forEach(function(t){var i=t.user.id,s=t.user.name;if(u.has(i))u.get(i).data[a]=e.selectCountType(t);else{var o=Array(n.length).fill(0);o[a]=e.selectCountType(t),u.set(i,{label:s,backgroundColor:i===e.ctx.jar.selfId?"#4BCC1F":r||x.hex(t.user.name),data:o})}})}),d=[].concat(s()(u)).sort(function(t,a){return t[0]===e.ctx.jar.selfId?-1:a[0]===e.ctx.jar.selfId?1:0}).map(function(e){return e[1]}),e.chartData={labels:o,datasets:d}):(r=n.map(function(t,a){var n=0,r=0;return t.participants.forEach(function(t){t.user.id===e.ctx.jar.selfId?n=e.selectCountType(t):r+=e.selectCountType(t)}),[n,r]}).reduce(function(e,t){return e[0].push(t[0]),e[1].push(t[1]),e},[[],[]]),i=r.map(function(e,t){return{label:0===t?"Me":"Other",backgroundColor:0===t?"#4BCC1F":"#F03C24",data:e}}),e.chartData={labels:n.map(function(e){return e.threadName}),datasets:i}):e.chartData={labels:n.map(function(e){return e.threadName}),datasets:[{label:b("total"),backgroundColor:"#0083FF",data:n.map(function(t){return e.selectCountType(t)})}]};case 6:case"end":return t.stop()}},t,e)}))()},syncThreadDetail:function(e){var t=this;return h()(l.a.mark(function a(){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.loadingCount=0,t.loading=t.$loading({lock:!0,text:b("fetchingMessages"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n=[],a.next=5,r.a.all(e.map(function(){var a=h()(l.a.mark(function a(r){var i,s;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!r.characterCount){a.next=2;break}return a.abrupt("return");case 2:if(r.messages){a.next=26;break}return a.next=5,t.ctx.db.get(r.id);case 5:if(!(i=a.sent)||!i.messages){a.next=8;break}return a.abrupt("return");case 8:return r.isLoading=!0,a.prev=9,a.next=12,Object(_.a)({jar:t.ctx.jar,thread:r,$set:t.$set});case 12:return s=a.sent,r.needUpdate=!1,r.analyzeMessages(s),a.next=17,t.ctx.db.put({id:r.id,messages:s});case 17:a.next=23;break;case 19:a.prev=19,a.t0=a.catch(9),console.error(a.t0),-1===n.indexOf(a.t0.message)&&n.push(a.t0.message);case 23:r.isLoading=!1,a.next=27;break;case 26:r.analyzeMessages();case 27:t.loading.text=b("fetchingMessages")+"["+ ++t.loadingCount+"/"+e.length+"]";case 28:case"end":return a.stop()}},a,t,[[9,19]])}));return function(e){return a.apply(this,arguments)}}()));case 5:return n.length&&Object(p.Message)({type:"error",message:n.join(". ")}),t.loading.close(),a.abrupt("return",e);case 8:case"end":return a.stop()}},a,t)}))()},selectCountType:function(e){return e[this.isShowCharacter?"characterCount":"messageCount"]}}}},jUUX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":"","text-color":"#4bcc1f",collapse:e.isCollapse,mode:"vertical"}},[a("el-menu-item",{attrs:{index:"0"},on:{click:function(t){e.isCollapse=!e.isCollapse}}},[a("i",{class:e.isCollapse?"el-icon-arrow-right":"el-icon-arrow-left"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.__("operationBar")))])]),e._v(" "),a("el-menu-item",{attrs:{index:"1"},on:{click:function(t){e.clickMenuItemHandle("isShowCharacterSwitch")}}},[a("i",{staticClass:"el-icon-message"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[a("el-switch",{ref:"isShowCharacterSwitch",attrs:{"active-color":"#4bcc1f","inactive-color":"#0084ff","active-text":e.__("showCharacter"),"inactive-text":e.__("showMessage")},model:{value:e.isShowCharacter,callback:function(t){e.isShowCharacter=t},expression:"isShowCharacter"}})],1)]),e._v(" "),a("el-menu-item",{attrs:{index:"2"},on:{click:function(t){e.clickMenuItemHandle("isShowDetailSwitch")}}},[a("i",{staticClass:"el-icon-document"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[a("el-switch",{ref:"isShowDetailSwitch",attrs:{"active-color":"#4bcc1f","inactive-color":"#0084ff","active-text":e.__("showDetail"),"inactive-text":e.__("showTotal")},model:{value:e.isShowDetail,callback:function(t){e.isShowDetail=t},expression:"isShowDetail"}})],1)]),e._v(" "),a("el-menu-item",{attrs:{index:"3"},on:{click:e.generateSharingDialog}},[e._v("\n      Generate Image\n    ")])],1),e._v(" "),a("bar-chart",{ref:"barChart",attrs:{"chart-data":e.chartData,styles:e.chartContainerStyles,height:e.chartHeight,options:e.barOption}}),e._v(" "),a("sharing-dialog",{ref:"sharingDialog",attrs:{jar:e.ctx.jar}}),e._v(" "),a("el-aside",{attrs:{width:"50px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.__("drapToLookOtherUsers"),placement:"left"}},[a("el-slider",{attrs:{vertical:"",height:e.chartHeight-18+"px",min:1,max:this.threads.length},on:{change:function(t){e.renderChart()}},model:{value:e.rank,callback:function(t){e.rank=t},expression:"rank"}})],1)],1)],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},kepK:function(e,t,a){"use strict";var n=a("gszD"),r=a.n(n),i=chrome.i18n.getMessage;t.a={name:"Message",props:["messageData","participants","selfId"],data:function(){return{align:"right",boxAlign:"box_r",localTimeString:"",reactions:null}},created:function(){var e=new Date(Number(this.messageData.timestamp));this.localTimeString=e.toLocaleDateString()+" "+e.toLocaleTimeString(),this.isSelf=Number(this.messageData.senderID)===Number(this.selfId),this.align=this.isSelf?"right":"left",this.boxAlign=this.isSelf?"box_r":"box_l",this.messageData.messageReactions&&this.messageData.messageReactions.length&&(this.reactions=r()(this.messageData.messageReactions.map(function(e){return e.reaction})).join(""))},computed:{sender:function(){return this.getParticipant(this.messageData.senderID)},senderName:function(){return this.sender?this.sender.user.name:i("unknown")},senderAvatar:function(){return this.sender?this.sender.user.avatar:null}},methods:{getParticipant:function(e){return this.participants.find(function(t){return t.user.id===e})}}}},lWQE:function(e,t,a){var n=a("pmuZ");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("a2be747a",n,!0,{})},ldhe:function(e,t,a){"use strict";var n=a("d7EF"),r=a.n(n),i=a("mXeo"),s=a("YAsZ"),o=a("baJU"),c=chrome.i18n.getMessage;t.a={name:"DetailTemplate",props:["thread"],components:{Chooser:i.a,MuteUntil:s.a,Avatar:o.a},methods:{onMuteThread:function(e,t){return this.$ga.event("Thread","set","mute",t),this.$emit("change","mute",e,t)},onChangeColor:function(e,t){return this.$ga.event("Thread","set","color"),this.$emit("change","color",e,t)},onChangeEmoji:function(e,t){return this.$ga.event("Thread","set","emoji"),this.$emit("change","emoji",e,t)},onClickParticipantAvatar:function(e,t){var a=this,n=t.id,r=t.nickname,i=t.name;return this.$prompt(c("editNicknameContent"),c("editNicknameTitle"),{confirmButtonText:c("ok"),cancelButtonText:c("cancel"),inputValue:r||"",inputPlaceholder:i||"",inputValidator:function(e){return e.length<=50},inputErrorMessage:"Maximun length of nickname is 50."}).then(function(t){var r=t.value;return a.$emit("change","nickname",e,n,r)}).catch(function(){})},onChangeNickname:function(e,t){var a=r()(t,2),n=a[0],i=a[1];return this.$ga.event("Thread","set","nickname"),this.$emit("change","nickname",e,i,n)}}}},liE3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.hide,expression:"hide"}],staticClass:"thread-name",on:{click:e.onClick}},[e.isGroup?a("el-tooltip",{attrs:{content:e.tooltip,placement:"top-start"}},[a("div")]):e._e(),e._v(" "),e.isEdit?a("el-input",{attrs:{placeholder:e.placeholder},on:{change:e.onChange},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}):a("span",[e._v(e._s(e.thread.threadName))])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"lkp+":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".chooser{display:inline-block;transition:border-color .2s cubic-bezier(.645,.045,.355,1);border:1px solid #e6e6e6;border-radius:4px}.chooser:hover{border-color:#c0c4cc}.chooser__trigger{border-radius:4px;cursor:pointer}.emoji-chooser__trigger{font-size:18px;text-align:center;width:40px;height:40px}.color-chooser__trigger{padding:0 10px;color:#fff}.chooser__panel{position:absolute;padding:6px;box-sizing:content-box;background-color:#fff;border:1px solid #ebeef5;border-radius:4px;box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}",""])},mXeo:function(e,t,a){"use strict";function n(e){a("T8vj")}var r=a("V/ZL"),i=a("G7WL"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,null,null);t.a=c.exports},o1TK:function(e,t,a){"use strict";function n(e){var t=e.jar,a=e.senderID,n=e.messageCount,r=e.messageLimit,i=void 0===r?7500:r,s=e.before,o=void 0===s?null:s;i=Math.floor(Math.min(i,n));var c={o0:{doc_id:"1583545408361109",query_params:{id:a,message_limit:i,load_messages:1,load_read_receipts:!1,before:o}}},u=Object(f.f)({queries:c},t);return Object(f.h)("https://www.facebook.com/api/graphqlbatch/",u)}function r(e){switch(e.__typename){case"MessageImage":return{url:"",width:0,height:0,type:"image",filename:e.filename,attachmentID:e.legacy_attachment_id,previewHeight:e.preview.height,previewUrl:e.preview.uri,previewWidth:e.preview.width,thumbnailUrl:e.thumbnail.uri,attributionApp:e.attribution_app?{attributionAppID:e.attribution_app.id,name:e.attribution_app.name,logo:e.attribution_app.square_logo}:null,extension:e.original_extension,largePreviewUrl:e.large_preview.uri,largePreviewHeight:e.large_preview.height,largePreviewWidth:e.large_preview.width};case"MessageAnimatedImage":return{type:"image",filename:e.filename,attachmentID:e.legacy_attachment_id,previewHeight:e.preview_image.height,previewUrl:e.preview_image.uri,previewWidth:e.preview_image.width,largePreviewUrl:e.animated_image.uri,largePreviewHeight:e.animated_image.height,largePreviewWidth:e.animated_image.width,attributionApp:e.attribution_app?{attributionAppID:e.attribution_app.id,name:e.attribution_app.name,logo:e.attribution_app.square_logo}:null};case"MessageVideo":return{previewHeight:"",previewUrl:"",previewWidth:"",type:"video",thumbnailUrl:e.large_image.uri,filename:e.filename,height:e.original_dimensions.y,width:e.original_dimensions.x,attachmentID:e.legacy_attachment_id,url:e.playable_url,duration:e.playable_duration_in_ms,thumbnailWidth:e.large_image.width,thumbnailHeight:e.large_image.height,videoType:e.video_type.toLowerCase()};case"MessageFile":return{attachmentID:e.url_shimhash,isMalicious:e.is_malicious,type:"file",url:e.url,contentType:e.content_type,filename:e.filename};case"MessageAudio":return{attachmentID:e.url_shimhash,type:"audio",audioType:e.audio_type,duration:e.playable_duration_in_ms,url:e.playable_url,isVoiceMail:e.is_voicemail,filename:e.filename};default:return console.log(e),console.error("Don't know about attachment type "+e.__typename)}}function i(e){if(null==e)return{};switch(e.__typename){case"ThemeColorExtensibleMessageAdminText":return{color:e.theme_color};case"ThreadNicknameExtensibleMessageAdminText":return{nickname:e.nickname,participantID:e.participant_id};case"ThreadIconExtensibleMessageAdminText":return{threadIcon:e.thread_icon};case"InstantGameUpdateExtensibleMessageAdminText":return{gameID:e.game?e.game.id:null,update_type:e.update_type,collapsed_text:e.collapsed_text,expanded_text:e.expanded_text,instant_game_update_data:e.instant_game_update_data};case"GameScoreExtensibleMessageAdminText":return{game_type:e.game_type};case"RtcCallLogExtensibleMessageAdminText":return{event:e.event,is_video_call:e.is_video_call,server_info_data:e.server_info_data};case"GroupPollExtensibleMessageAdminText":return{event_type:e.event_type,total_count:e.total_count,question:e.question};case"AcceptPendingThreadExtensibleMessageAdminText":return{accepter_id:e.accepter_id,requester_id:e.requester_id};case"ConfirmFriendRequestExtensibleMessageAdminText":return{friend_request_recipient:e.friend_request_recipient,friend_request_sender:e.friend_request_sender};case"AddContactExtensibleMessageAdminText":return{contact_added_id:e.contact_added_id,contact_adder_id:e.contact_adder_id};case"AdExtensibleMessageAdminText":return{ad_client_token:e.ad_client_token,ad_id:e.ad_id,ad_preferences_link:e.ad_preferences_link,ad_properties:e.ad_properties};case"ParticipantJoinedGroupCallExtensibleMessageAdminText":case"ThreadEphemeralTtlModeExtensibleMessageAdminText":case"StartedSharingVideoExtensibleMessageAdminText":case"LightweightEventCreateExtensibleMessageAdminText":case"LightweightEventNotifyExtensibleMessageAdminText":case"LightweightEventNotifyBeforeEventExtensibleMessageAdminText":case"LightweightEventUpdateExtensibleMessageAdminText":case"LightweightEventUpdateTitleExtensibleMessageAdminText":case"LightweightEventUpdateTimeExtensibleMessageAdminText":case"LightweightEventUpdateLocationExtensibleMessageAdminText":case"LightweightEventDeleteExtensibleMessageAdminText":return{};default:return console.log(e),console.error("Don't know what to with event data type "+e.__typename)}}function s(e){return e.story_attachment?{type:"share",description:null==e.story_attachment.description?null:e.story_attachment.description.text,attachmentID:e.legacy_attachment_id,title:e.story_attachment.title_with_entities.text,subattachments:e.story_attachment.subattachments,url:e.story_attachment.url,source:null==e.story_attachment.source?null:e.story_attachment.source.text,playable:null==e.story_attachment.media?null:e.story_attachment.media.is_playable,thumbnailUrl:null==e.story_attachment.media?null:null==e.story_attachment.media.animated_image&&null==e.story_attachment.media.image?null:(e.story_attachment.media.animated_image||e.story_attachment.media.image).uri,thumbnailWidth:null==e.story_attachment.media?null:null==e.story_attachment.media.animated_image&&null==e.story_attachment.media.image?null:(e.story_attachment.media.animated_image||e.story_attachment.media.image).width,thumbnailHeight:null==e.story_attachment.media?null:null==e.story_attachment.media.animated_image&&null==e.story_attachment.media.image?null:(e.story_attachment.media.animated_image||e.story_attachment.media.image).height,duration:null==e.story_attachment.media?null:e.story_attachment.media.playable_duration_in_ms,playableUrl:null==e.story_attachment.media?null:e.story_attachment.media.playable_url,properties:e.story_attachment.properties.reduce(function(e,t){return e[t.key]=t.value.text,e},{})}:console.error("Don't know what to do with extensible_attachment.")}function o(e){return{reaction:e.reaction,userID:e.user.id}}function c(e){var t=e.thread_key.thread_fbid?e.thread_key.thread_fbid:e.thread_key.other_user_id;return e.messages.nodes.map(function(e){switch(e.__typename){case"UserMessage":var a=void 0;return e.sticker&&(a=[{caption:e.snippet,description:e.sticker.label,frameCount:e.sticker.frame_count,frameRate:e.sticker.frame_rate,framesPerCol:e.sticker.frames_per_col,framesPerRow:e.sticker.frames_per_row,packID:e.sticker.pack.id,spriteURI2x:e.sticker.sprite_image_2x,spriteURI:e.sticker.sprite_image,stickerID:e.sticker.id,url:e.sticker.url,height:e.sticker.height,width:e.sticker.width,type:"sticker"}]),{type:"message",attachments:a||(e.blob_attachments&&e.blob_attachments.length>0?m()(e.blob_attachments.map(r)):e.extensible_attachment?m()(s(e.extensible_attachment)):[]),body:e.message.text,messageID:e.message_id,senderID:e.message_sender.id,messageReactions:e.message_reactions?m()(e.message_reactions.map(o)):null,isSponsered:e.is_sponsored,snippet:e.snippet,timestamp:e.timestamp_precise};case"ThreadNameMessage":return{type:"event",messageID:e.message_id,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"change_thread_name",snippet:e.snippet,eventData:{threadName:e.thread_name}};case"ThreadImageMessage":return{type:"event",messageID:e.message_id,threadID:t,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"change_thread_image",snippet:e.snippet,eventData:null==e.image_with_metadata?{}:{threadImage:{attachmentID:e.image_with_metadata.legacy_attachment_id,height:e.image_with_metadata.original_dimensions.x,width:e.image_with_metadata.original_dimensions.y,url:e.image_with_metadata.preview.uri}}};case"ParticipantLeftMessage":return{type:"event",messageID:e.message_id,threadID:t,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"remove_participants",snippet:e.snippet,eventData:{participantsRemoved:e.participants_removed.map(function(e){return e.id})}};case"ParticipantsAddedMessage":return{type:"event",messageID:e.message_id,threadID:t,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"add_participants",snippet:e.snippet,eventData:{participantsAdded:e.participants_added.map(function(e){return e.id})}};case"VideoCallMessage":return{type:"event",messageID:e.message_id,threadID:t,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"video_call",snippet:e.snippet};case"VoiceCallMessage":return{type:"event",messageID:e.message_id,threadID:t,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"voice_call",snippet:e.snippet};case"GenericAdminTextMessage":return{type:"event",messageID:e.message_id,threadID:t,senderID:e.message_sender.id,timestamp:e.timestamp_precise,snippet:e.snippet,eventType:e.extensible_message_admin_text_type.toLowerCase(),eventData:e.extensible_message_admin_text?i(e.extensible_message_admin_text):null};default:return console.log(e),console.error("Don't know about message type "+e.__typename)}})}var u=a("Xxa5"),l=a.n(u),d=a("exGp"),h=a.n(d),p=a("C2y9"),m=a.n(p),f=a("D9dJ"),g=function(){var e=h()(l.a.mark(function e(t){var a,r,i=this,s=t.jar,o=t.senderID,u=t.messageCount,d=t.messageLimit,p=void 0===d?7500:d,f=t.before,v=void 0===f?null:f;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({jar:s,senderID:o,messageCount:u,messageLimit:p,before:v}).then(function(){var e=h()(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.o0.data.message_thread,a.messages.page_info){e.next=3;break}throw new Error("No page_info.");case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){if(console.error(e),(p/=2)>1e3)return n({jar:s,senderID:o,messageCount:u,messageLimit:p,before:v});throw new Error("Too many error on fetch.")});case 2:if(a=e.sent,r=m()(c(a)),u-=r.length,!(a.messages.page_info.has_previous_page&&r[0]&&u)){e.next=12;break}return e.next=8,g({jar:s,senderID:o,messageCount:u,messageLimit:p,before:r[0].timestamp});case 8:return e.t0=r,e.abrupt("return",e.sent.concat(e.t0));case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();t.a=function(){var e=h()(l.a.mark(function e(t){var a,n,r,i,s,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.thread,n=t.messageLimit,r=t.before,i=t.jar,s=a.id,o=n?Math.min(a.messageCount,n):a.messageCount,e.abrupt("return",g({jar:i,senderID:s,messageCount:o,messageLimit:n,before:r}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},oOMR:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{attrs:{id:"root"}},[n("el-header",[n("el-menu",{staticClass:"navbar",attrs:{router:"",mode:"horizontal","background-color":"#0083FF","text-color":"#f1f1f1","default-active":"/list","active-text-color":"#ffffff"}},[n("el-menu-item",{attrs:{index:"/about"}},[n("img",{attrs:{src:a("PBgw")}}),e._v(" "),n("span",[e._v(" "+e._s(e.__("extName")))])]),e._v(" "),n("el-menu-item",{attrs:{index:"/list"}},[e._v(e._s(e.__("listPage")))]),e._v(" "),n("el-menu-item",{attrs:{index:"/chart"}},[e._v(e._s(e.__("chartPage")))]),e._v(" "),n("el-menu-item",{attrs:{index:""}},[n("social-sharing",{attrs:{url:"https://chrome.google.com/webstore/detail/ldlagicdigidgnhniajpmoddkoakdoca","network-tag":"div"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("network",{attrs:{network:"weibo"}},[a("icon",{attrs:{name:"share-alt"}}),e._v("\n            Weibo\n            "),a("icon",{attrs:{name:"weibo",label:"Share on Weibo"}})],1)},staticRenderFns:[]}})],1),e._v(" "),n("el-menu-item",{attrs:{index:""}},[n("social-sharing",{attrs:{url:"https://chrome.google.com/webstore/detail/ldlagicdigidgnhniajpmoddkoakdoca","network-tag":"div"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("network",{attrs:{network:"reddit"}},[a("icon",{attrs:{name:"share-alt"}}),e._v("\n            Reddit\n            "),a("icon",{attrs:{name:"reddit-square",label:"Share on Reddit"}})],1)},staticRenderFns:[]}})],1),e._v(" "),n("el-menu-item",{attrs:{index:""}},[n("social-sharing",{attrs:{url:"https://chrome.google.com/webstore/detail/ldlagicdigidgnhniajpmoddkoakdoca","network-tag":"div"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("network",{attrs:{network:"twitter"}},[a("icon",{attrs:{name:"share-alt"}}),e._v("\n            Twitter\n            "),a("icon",{attrs:{name:"twitter-square",label:"Share on Twitter"}})],1)},staticRenderFns:[]}})],1),e._v(" "),n("el-menu-item",{attrs:{index:""}},[n("social-sharing",{attrs:{url:"https://chrome.google.com/webstore/detail/ldlagicdigidgnhniajpmoddkoakdoca","network-tag":"div"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("network",{attrs:{network:"facebook"}},[a("icon",{attrs:{name:"share-alt"}}),e._v("\n            Facebook\n            "),a("icon",{attrs:{name:"facebook-square",label:"Share on Facebook"}})],1)},staticRenderFns:[]}})],1)],1)],1),e._v(" "),n("el-main",[n("transition",{attrs:{name:"fade"}},[n("router-view",{attrs:{ctx:e.ctx}})],1)],1),e._v(" "),n("el-footer",{staticClass:"offset-footer",attrs:{height:"30px"}}),e._v(" "),n("el-footer",{attrs:{height:"30px"}},[n("div",{staticClass:"footer-button"},[n("a",{attrs:{href:"https://github.com/ALiangLiang/Counter-for-Messenger",target:"_blank"}},[n("icon",{attrs:{name:"github"}}),e._v(" "),n("span",[e._v("Github")])],1)]),e._v(" "),n("div",{staticClass:"footer-button"},[n("a",{attrs:{href:"https://github.com/ALiangLiang",target:"_blank"}},[n("icon",{attrs:{name:"user"}}),e._v(" "),n("span",[e._v("Author: ALiangLiang")])],1)]),e._v(" "),n("div",{staticClass:"footer-button"},[n("a",{attrs:{href:"https://www.paypal.me/ALiangLiang/3",target:"_blank"}},[n("icon",{attrs:{name:"paypal"}}),e._v(" "),n("span",[e._v("Donate: Paypel")])],1)]),e._v(" "),n("div",{staticClass:"footer-button"},[n("a",{attrs:{href:"https://www.buymeacoffee.com/ALiangLiang",target:"_blank"}},[n("icon",{attrs:{name:"coffee"}}),e._v(" "),n("span",[e._v("Donate: Buy me a coffee")])],1)])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},oTRJ:function(e,t,a){var n=a("UFng");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("141723b2",n,!0,{})},"p+27":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.text,placement:"top"}},[a("el-button",{attrs:{disabled:e.disabled,loading:e.loading,type:e.type,size:e.size,round:e.round},on:{click:function(t){e.$emit("click",t)}},nativeOn:{mouseover:function(t){e.onMouseover(t)},mouseout:function(t){e.onMouseout(t)}}},[a("icon",{attrs:{name:e.icon}})],1)],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},p2eQ:function(e,t,a){"use strict";function n(e){a("oTRJ")}var r=a("i7Q4"),i=a("jUUX"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,"data-v-341baa28",null);t.a=c.exports},pM2J:function(e,t){e.exports={release:{extensionId:"flkejcheidpcclcdokndihmnlejfabil",key:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApgt7WcuhA9s1XINhU8hU5b3ZCL7u6KAZSGJLXHjczbxI4RD8bMFUKeGuRoogHjdb1hcMWXqYdYcdgfoecFdUX3mbdgueybBXSdVnU/b2/6qu6iMK3VplMf/6gYmtEudJtq2QnqRivmS2NWH6RdvpwR8mKSPlgLZmV80t+dnR91Bozih55f0J/3PhbWk8OFpYXWFrUbTJmfiy9LpQARiILJ88GXjCBa53aokWvd14+YBWHNx8HyzQDamJBEM3XaY7vY5xa1OJGg1DxKYAupRHXyn9qnjPMv94a934JGc0witZ3aVRJFiS8l7MAJwCIjCCtxhezT4CHKDmOslaJi2hVQIDAQAB",clientId:"459831431153-hmbpr1usuj4ii550q2mrr9s274fs3dsj.apps.googleusercontent.com",clientSecret:"zBz_dUV5zlOzhIFJqio9VaEi",refreshToken:"1/sUOSoUeBLZBp4krhwu_8A1-ZIK7QEiS4ajhHyOQKdMg"},beta:{extensionId:"flkejcheidpcclcdokndihmnlejfabil",key:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnp3e8PxMX/dmup0Qx/Fr0oPswJMVKpbxI3QRcDMVG/wbENGYcDStRUIaebkmzc2OYfBIEFRcYmxwdLxTzs8qf4FurbJJCcwfIlCwauVxu+JwRaL1hO98RWVQgZFILbUw/4iS+KZ5GzG8Cn5Jjpt1Y2iQ+MBtcHK0GOqd8eb6FwM1foFDY8Q7JUKfGJbur7vfr7iNxhaZIs4+ZO9X/KlU49sur/4DG+MUamv/GfKOv9rgHrvnGDBaEJBXuIMhCcy8RsYABtTghwDf4s9qoISkJgZz211uWNbW63+aXHC9wyDhsscOoVZ1/lOvTYQTZcxjGhhmo2EwWUNxRI8frSPpFwIDAQAB",clientId:"459831431153-hmbpr1usuj4ii550q2mrr9s274fs3dsj.apps.googleusercontent.com",clientSecret:"zBz_dUV5zlOzhIFJqio9VaEi",refreshToken:"1/O8EUbGXAGK60aibphkArVVSwdODe-vm9zL4fPqazXZk"},alpha:{extensionId:"kdajknkiomfdagkpagncldekphbnpcpc",key:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq4CbXRwdVrFGowuXwchu9umtKZdY/o0ULqrbuWj5vIdtg0Mrm14IDqoY45is86CFjtTqLigm5ydE+3GBwyG4CWq0wYXkynXuijqmJ2rCE1N4zfH876kXMtlzyiHWulehtH9BillIKtDNdeFUkhNtMjMYkN0jzKS85ZJNcTk8vsc7sfQRPa+AR48nwSK188Adpm7+v0xHhxAiPeo8T/q70Wdn0Oo9trY7LCfmWIWXiA5TVGf4dWBSqPWiyL3F0QaDJJCE/N4dCONut1jHyIPMyN8Bk8L2m5837dbL9BGtSTgezYEj/myqa3+61F2uD8aI22pW1PVblcycRK/CksZ4MwIDAQAB",clientId:"459831431153-ohgumc20t8rpju1ob2821a27quvlgebi.apps.googleusercontent.com",clientSecret:"",refreshToken:""},dev:{extensionId:"flkejcheidpcclcdokndihmnlejfabil",key:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnp3e8PxMX/dmup0Qx/Fr0oPswJMVKpbxI3QRcDMVG/wbENGYcDStRUIaebkmzc2OYfBIEFRcYmxwdLxTzs8qf4FurbJJCcwfIlCwauVxu+JwRaL1hO98RWVQgZFILbUw/4iS+KZ5GzG8Cn5Jjpt1Y2iQ+MBtcHK0GOqd8eb6FwM1foFDY8Q7JUKfGJbur7vfr7iNxhaZIs4+ZO9X/KlU49sur/4DG+MUamv/GfKOv9rgHrvnGDBaEJBXuIMhCcy8RsYABtTghwDf4s9qoISkJgZz211uWNbW63+aXHC9wyDhsscOoVZ1/lOvTYQTZcxjGhhmo2EwWUNxRI8frSPpFwIDAQAB",clientId:"459831431153-hmbpr1usuj4ii550q2mrr9s274fs3dsj.apps.googleusercontent.com",clientSecret:"zBz_dUV5zlOzhIFJqio9VaEi",refreshToken:"1/O8EUbGXAGK60aibphkArVVSwdODe-vm9zL4fPqazXZk"},fb:{id:"168178573969360",version:"v2.12",domain:"chrome.google.com",website:"https://chrome.google.com/webstore/detail/ldlagicdigidgnhniajpmoddkoakdoca/"}}},pmuZ:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".outer-name[data-v-9b66004c]{display:inline-block;position:relative}.outer-name div[data-v-9b66004c],span[data-v-9b66004c]{display:inline-block;vertical-align:middle}",""])},ps9w:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"thread-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:e.__("emoji")+e.__("colon")}},[a("chooser",{attrs:{type:"emoji"},on:{change:function(t){e.onChangeEmoji(e.thread,t)}},model:{value:e.thread.emoji,callback:function(t){e.$set(e.thread,"emoji",t)},expression:"thread.emoji"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.__("color")+e.__("colon")}},[a("chooser",{attrs:{type:"color"},on:{change:function(t){e.onChangeColor(e.thread,t)}},model:{value:e.thread.color,callback:function(t){e.$set(e.thread,"color",t)},expression:"thread.color"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.__("muteUntil")+e.__("colon")}},[a("mute-until",{on:{change:function(t){e.onMuteThread(e.thread,t)}},model:{value:e.thread.muteUntil,callback:function(t){e.$set(e.thread,"muteUntil",t)},expression:"thread.muteUntil"}})],1),e._v(" "),"GROUP"!==e.thread.type&&"USER"!==e.thread.type||!e.thread.participants?e._e():a("el-form-item",{attrs:{label:e.__("participants")+e.__("colon")}},[a("div",e._l(e.thread.participants,function(t,n){return a("div",{key:n,staticClass:"participant-avatar"},[t&&t.user?a("el-tooltip",{attrs:{content:t.user.name+(t.user.nickname?"("+t.user.nickname+")":""),placement:"top-start"}},[t.user.avatar?a("avatar",{attrs:{images:[{text:t.user.name,src:t.user.avatar}],"allow-upload":!1},nativeOn:{click:function(a){e.onClickParticipantAvatar(e.thread,t.user)}}}):e._e()],1):e._e(),e._v(" "),t&&t.user&&t.user.avatar?e._e():a("span",[e._v("\n          "+e._s(t.user.name)+"\n        ")])],1)}))])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},qUCV:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".fade-enter-active[data-v-5be46778],.fade-leave-active[data-v-5be46778]{transition-property:opacity;transition-duration:.05s}.fade-enter-active[data-v-5be46778]{transition-delay:.1s}.fade-enter[data-v-5be46778],.fade-leave-active[data-v-5be46778]{opacity:0}.title[data-v-5be46778]{text-align:center;color:#58636b;font-size:15px;padding-bottom:13px;border-bottom:1px solid rgba(0,0,0,.1)}.outer[data-v-5be46778]{background:#fffcdd;word-break:break-all;max-width:70%;background:#fffbd4;padding:.6em 1.2em;border-radius:12px;margin:11px;clear:both;float:left;color:#58636b;box-shadow:0 1px 3px -1px rgba(0,0,0,.09);position:relative}.outer[data-v-5be46778]:hover{background:#fff8b5}.outer.right[data-v-5be46778]{float:right;background:#bdffcb;background:#e6e5df}.outer.right[data-v-5be46778]:hover{background:#d6d5cb}.outer>div[data-v-5be46778]:after{content:attr(title);position:absolute;bottom:-1.5em;left:1em;font-size:.8em;color:#5c6d86;display:block;width:15em;opacity:0;transition:all .2s;transform:translateY(-3px);visibility:hidden}.outer.right>div[data-v-5be46778]:after{left:auto;right:1em;text-align:right}.outer:hover>div[data-v-5be46778]:after{opacity:1;transform:translateY(0);visibility:visible}#define[data-v-5be46778]{text-align:center}.footer-button[data-v-5be46778]{display:inline-block;padding-top:3px}.footer-button>a[data-v-5be46778]{display:-ms-inline-flexbox;display:inline-flex}",""])},qoGc:function(e,t,a){"use strict";function n(e){a("fsJY"),a("lWQE")}var r=a("dIbz"),i=a("+l4b"),s=a("VU/8"),o=n,c=s(r.a,i.a,!1,o,"data-v-9b66004c",null);t.a=c.exports},"rE+K":function(e,t,a){"use strict";var n=a("UlOv"),r=n.b.reactiveProp;t.a={extends:n.a,mixins:[r],props:["chartData","options"],data:function(){return{canvas:this.$refs.canvas}},mounted:function(){this.canvas=this.$refs.canvas,this.renderChart(this.chartData,this.options)},watch:{"options.title.text":function(){this.$data._chart.destroy(),this.renderChart(this.chartData,this.options)}}}},rOPl:function(e,t,a){"use strict";var n=a("woOf"),r=a.n(n),i=a("Zrlr"),s=a.n(i),o=function e(t){s()(this,e),r()(this,t)};t.a=o},"rP+3":function(e,t,a){var n=a("hmHE");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("422cdc2e",n,!0,{})},s9dO:function(e,t){},tBdW:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"sharing-dialog-wrapper",attrs:{title:"Sharing",visible:e.isVisibled,customClass:"sharing-dialog"},on:{"update:visible":function(t){e.isVisibled=t}}},[a("div",{staticClass:"sharing-button-bar"},[a("el-button",{attrs:{type:"primary"},on:{click:e.share}},[a("icon",{attrs:{name:"facebook-f"}}),e._v("\n      "+e._s(e.__("shareOnFacebook"))+"\n    ")],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.download}},[a("icon",{attrs:{name:"download"}}),e._v("\n      "+e._s(e.__("download"))+"\n    ")],1)],1),e._v(" "),a("img",{attrs:{src:e.src}})])},r=[],i={render:n,staticRenderFns:r};t.a=i},u9FY:function(e,t,a){var n=a("qUCV");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("f665c01e",n,!0,{})},uRjz:function(e,t,a){"use strict";var n=(a("rpnW"),a("NBSW"),a("b6br"),a("i71b"),a("zxa9"),a("D4uH"));t.a={name:"OperationButton",props:{icon:String,text:{type:String,default:""},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},type:{type:String,default:"text"},size:{type:String,default:"small"},round:{type:Boolean,default:!1}},data:function(){return{show:!1}},components:{Icon:n.a},methods:{onMouseover:function(){this.show=!0},onMouseout:function(){this.show=!1}}}},ulMN:function(e,t,a){var n=a("KsCB");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("4725b1bc",n,!0,{})},wLWy:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-color-dropdown"},e._l(e.colors,function(t,n){return a("div",{key:n,staticClass:"color-circle",style:{"background-color":n},on:{click:function(t){e.choose(n)}}})}))])},r=[],i={render:n,staticRenderFns:r};t.a=i},yD2d:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".sharing-button-bar[data-v-eec9d1d4]{margin-bottom:20px}.sharing-dialog-wrapper[data-v-eec9d1d4]{text-align:center}img[data-v-eec9d1d4]{max-width:1200px;max-height:630px;width:auto;height:auto}",""])},zgbo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("d7EF"),r=a.n(n),i=a("Xxa5"),s=a.n(i),o=a("//Fk"),c=a.n(o),u=a("exGp"),l=a.n(u),d=a("7+uW"),h=a("AYPi"),p=a.n(h),m=a("zL8q"),f=(a.n(m),a("s9dO")),g=(a.n(f),a("wUZ8")),v=a.n(g),_=a("gwsl"),b=a.n(_),x=a("urW8"),w=a.n(x),y=a("Q7hp"),k=a.n(y),C=a("2Nrh"),T=a("7UJ1"),A=a("9beP"),D=a("D9dJ"),j=a("A6jn"),I=a("08kH"),E=a("1XH0"),S=a.n(E),M=a("VK1f"),O=a.n(M),U=a("D4uH"),L=new S.a(10,1/0),R=chrome.i18n.getMessage;d.default.prototype.__=R,document.title=R("extName"),d.default.config.productionTip=!1;var F=chrome.i18n.getUILanguage().split("-")[0];w.a.use("zh"===F?b.a:v.a),[m.Slider,m.Loading,m.Button,m.Table,m.TableColumn,m.Tag,m.Tooltip,m.DatePicker,m.Pagination,m.Switch,m.Container,m.Menu,m.MenuItem,m.Header,m.Aside,m.Main,m.Footer,m.Input,m.Form,m.FormItem,m.Dialog].forEach(function(e){return d.default.use(e,{locale:w.a})});d.default.use(p.a,{id:"UA-114347247-1",set:[{field:"checkProtocolTask",value:null}],router:T.a,autoTracking:{exception:!0},debug:{enabled:!1,sendHitTask:!0}}),d.default.component("icon",U.a),d.default.use(O.a),d.default.prototype.$message=m.MessageBox,d.default.prototype.$alert=m.MessageBox.alert,d.default.prototype.$confirm=m.MessageBox.confirm,d.default.prototype.$prompt=m.MessageBox.prompt,function(){var e=this,t=function(t,a){var n=t.split("."),r=window||e;n[0]in r||!r.execScript||r.execScript("var "+n[0]);for(var i;n.length&&(i=n.shift());)n.length||void 0===a?r=r[i]?r[i]:r[i]={}:r[i]=a},a=function(e){var t=chrome.runtime.connect("nmmhkkegccagdldgiimedpiccmgmieda",{}),a=!1;t.onMessage.addListener(function(t){a=!0,"response"in t&&!("errorType"in t.response)?e.success&&e.success(t):e.failure&&e.failure(t)}),t.onDisconnect.addListener(function(){!a&&e.failure&&e.failure({request:{},response:{errorType:"INTERNAL_SERVER_ERROR"}})}),t.postMessage(e)};t("google.payments.inapp.buy",function(e){e.method="buy",a(e)}),t("google.payments.inapp.consumePurchase",function(e){e.method="consumePurchase",a(e)}),t("google.payments.inapp.getPurchases",function(e){e.method="getPurchases",a(e)}),t("google.payments.inapp.getSkuDetails",function(e){e.method="getSkuDetails",a(e)})}(),new d.default({el:"#root",router:T.a,components:{Root:C.a},render:function(e){return e(C.a,{attrs:{ctx:this.ctx}})},data:function(){return{loading:null,ctx:{threads:[],jar:null,db:null},iSee:I.a.get("iSee",!1)}},watch:{iSee:function(e){I.a.set("iSee",e)}},created:function(){var e=this;return l()(s.a.mark(function t(){var a,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=e.$loading({lock:!0,text:e.__("interceptingToken"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e.iSee||e.$confirm(R("openingAlertContent"),R("openingAlertTitle"),{confirmButtonText:R("iSee"),showCancelButton:!0,cancelButtonText:R("cancel"),center:!0}).then(function(){return e.iSee=!0},function(){return e.iSee=!1}),t.prev=2,t.next=5,new c.a(function(e,t){window.google.payments.inapp.getPurchases({parameters:{env:"prod"},success:e,failure:t})});case 5:a=t.sent,e.ctx.purchased=!!a.response.details.find(function(e){return"premium"===e.sku&&"ACTIVE"===e.state}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:return n=function(){var t=l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.d)();case 2:a=t.sent,e.ctx.jar=a,e.ctx.db=new j.a(a.selfId);case 5:case"end":return t.stop()}},t,e)}));return function(){return t.apply(this,arguments)}}(),t.prev=13,t.next=16,n();case 16:t.next=23;break;case 18:return t.prev=18,t.t1=t.catch(13),e.$ga.event("Login","need"),t.next=23,new c.a(function(){var a=l()(s.a.mark(function a(r,i){var o,u,d;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading.text=R("loginRequired"),a.prev=1,a.next=4,e.$alert(R("loginRequired"),R("loginRequired"),{type:"warning"});case 4:a.next=8;break;case 6:a.prev=6,a.t0=a.catch(1);case 8:return o=0,a.next=11,new c.a(function(e,t){return chrome.tabs.getCurrent(e)});case 11:u=a.sent.id,d=function t(a,i,c){chrome.tabs.update(u,{active:!0});var d=function(){var a=l()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n();case 3:return chrome.runtime.onMessage.removeListener(t),e.$ga.event("Login","success"),a.abrupt("return",r());case 8:if(a.prev=8,a.t0=a.catch(0),!(o>50)){a.next=14;break}throw e.$ga.event("Login","detect-failed"),e.$alert(R("cannotDetectLoginContent"),R("error"),{confirmButtonText:R("refresh"),type:"warning"}).then(function(){return document.location.reload()},function(){}),new Error("Cannot detect facebook login.");case 14:return o+=1,a.abrupt("return",setTimeout(function(){return d()},133));case 16:case"end":return a.stop()}},a,e,[[0,8]])}));return function(){return a.apply(this,arguments)}}();return d()},chrome.runtime.onMessage.addListener(d),chrome.tabs.create({url:"https://www.facebook.com/",active:!0}),console.warn(t.t1);case 16:case"end":return a.stop()}},a,e,[[1,6]])}));return function(e,t){return a.apply(this,arguments)}}());case 23:return e.loading.text=R("fetchingThreads"),t.next=26,new c.a(function(t,a){e.ctx.db.onload=l()(s.a.mark(function n(){var i,o,u,l;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.all([Object(A.a)(e.ctx.jar),e.ctx.db.getAll()]);case 3:return i=n.sent,o=r()(i,2),u=o[0],l=o[1],e.ctx.threads=u.map(function(e){var t=l.find(function(t){return t.id===e.id});return t&&e.analyzeMessages(t.messages),e.needUpdate=e.messageCount!==k()(t,"messages.length"),e}),e.loading.close(),n.abrupt("return",t());case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",a(n.t0));case 15:case"end":return n.stop()}},n,e,[[0,12]])}))});case 26:e.ctx.threads.forEach(function(t){return L.add(t.loadDetail.bind(t,e.ctx,e.$set))});case 27:case"end":return t.stop()}},t,e,[[2,9],[13,18]])}))()}})}},["zgbo"]);
//# sourceMappingURL=tab.js.map